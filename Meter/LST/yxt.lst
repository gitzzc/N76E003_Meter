C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 1   


C51 COMPILER V9.50a, COMPILATION OF MODULE YXT
OBJECT MODULE PLACED IN .\Output\yxt.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Code\yxt.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Include) DEFINE(FOSC
                    -_160000) DEBUG OBJECTEXTEND LISTINCLUDE SYMBOLS PRINT(.\LST\yxt.lst) PREPRINT(.\LST\yxt.i) OBJECT(.\Output\yxt.obj)

line level    source

   1          #include "N76E003.h"
   1      =1  /*--------------------------------------------------------------------------
   2      =1  N76E003.H
   3      =1  
   4      =1  Header file for Nuvoton N76E003
   5      =1  --------------------------------------------------------------------------*/
   6      =1  
   7      =1  sfr P0                                  = 0x80;
   8      =1  sfr SP                                  = 0x81;
   9      =1  sfr DPL                                 = 0x82;
  10      =1  sfr DPH                                 = 0x83;
  11      =1  sfr RCTRIM0                     = 0x84;
  12      =1  sfr RCTRIM1                     = 0x85; 
  13      =1  sfr RWK         = 0x86;
  14      =1  sfr PCON        = 0x87;
  15      =1  
  16      =1  sfr TCON        = 0x88;
  17      =1  sfr TMOD        = 0x89;
  18      =1  sfr TL0         = 0x8A;
  19      =1  sfr TL1         = 0x8B;
  20      =1  sfr TH0         = 0x8C;
  21      =1  sfr TH1         = 0x8D;
  22      =1  sfr CKCON       = 0x8E;
  23      =1  sfr WKCON       = 0x8F;
  24      =1  
  25      =1  sfr P1          = 0x90;
  26      =1  sfr SFRS        = 0x91; //TA Protection
  27      =1  sfr CAPCON0     = 0x92;
  28      =1  sfr CAPCON1     = 0x93;
  29      =1  sfr CAPCON2     = 0x94;
  30      =1  sfr CKDIV       = 0x95;
  31      =1  sfr CKSWT       = 0x96; //TA Protection
  32      =1  sfr CKEN        = 0x97; //TA Protection
  33      =1  
  34      =1  sfr SCON        = 0x98;
  35      =1  sfr SBUF        = 0x99;
  36      =1  sfr SBUF_1      = 0x9A;
  37      =1  sfr EIE         = 0x9B;
  38      =1  sfr EIE1        = 0x9C;
  39      =1  sfr CHPCON      = 0x9F; //TA Protection
  40      =1  
  41      =1  sfr P2          = 0xA0;
  42      =1  sfr AUXR1       = 0xA2;
  43      =1  sfr BODCON0     = 0xA3; //TA Protection
  44      =1  sfr IAPTRG      = 0xA4; //TA Protection
  45      =1  sfr IAPUEN      = 0xA5; //TA Protection
  46      =1  sfr IAPAL       = 0xA6;
  47      =1  sfr IAPAH       = 0xA7;
  48      =1  
  49      =1  sfr IE          = 0xA8;
  50      =1  sfr SADDR       = 0xA9;
  51      =1  sfr WDCON       = 0xAA; //TA Protection
  52      =1  sfr BODCON1     = 0xAB; //TA Protection
  53      =1  sfr P3M1        = 0xAC;
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 2   

  54      =1  sfr P3S         = 0xAC; //Page1
  55      =1  sfr P3M2        = 0xAD;
  56      =1  sfr P3SR        = 0xAD; //Page1
  57      =1  sfr IAPFD       = 0xAE;
  58      =1  sfr IAPCN       = 0xAF;
  59      =1  
  60      =1  sfr P3          = 0xB0;
  61      =1  sfr P0M1        = 0xB1;
  62      =1  sfr P0S         = 0xB1; //Page1
  63      =1  sfr P0M2        = 0xB2;
  64      =1  sfr P0SR        = 0xB2; //Page1
  65      =1  sfr P1M1        = 0xB3;
  66      =1  sfr P1S         = 0xB3; //Page1
  67      =1  sfr P1M2        = 0xB4;
  68      =1  sfr P1SR        = 0xB4; //Page1
  69      =1  sfr P2S         = 0xB5; 
  70      =1  sfr IPH         = 0xB7;
  71      =1  sfr PWMINTC                     = 0xB7; //Page1
  72      =1  
  73      =1  sfr IP          = 0xB8;
  74      =1  sfr SADEN       = 0xB9;
  75      =1  sfr SADEN_1     = 0xBA;
  76      =1  sfr SADDR_1     = 0xBB;
  77      =1  sfr I2DAT       = 0xBC;
  78      =1  sfr I2STAT      = 0xBD;
  79      =1  sfr I2CLK       = 0xBE;
  80      =1  sfr I2TOC       = 0xBF;
  81      =1  
  82      =1  sfr I2CON       = 0xC0;
  83      =1  sfr I2ADDR      = 0xC1;
  84      =1  sfr ADCRL       = 0xC2;
  85      =1  sfr ADCRH       = 0xC3;
  86      =1  sfr T3CON       = 0xC4;
  87      =1  sfr PWM4H       = 0xC4; //Page1
  88      =1  sfr RL3         = 0xC5;
  89      =1  sfr PWM5H       = 0xC5; //Page1
  90      =1  sfr RH3         = 0xC6;
  91      =1  sfr PIOCON1     = 0xC6; //Page1
  92      =1  sfr TA          = 0xC7;
  93      =1  
  94      =1  sfr T2CON       = 0xC8;
  95      =1  sfr T2MOD       = 0xC9;
  96      =1  sfr RCMP2L      = 0xCA;
  97      =1  sfr RCMP2H      = 0xCB;
  98      =1  sfr TL2         = 0xCC; 
  99      =1  sfr PWM4L       = 0xCC; //Page1
 100      =1  sfr TH2         = 0xCD;
 101      =1  sfr PWM5L       = 0xCD; //Page1
 102      =1  sfr ADCMPL      = 0xCE;
 103      =1  sfr ADCMPH      = 0xCF;
 104      =1  
 105      =1  sfr PSW         = 0xD0;
 106      =1  sfr PWMPH       = 0xD1;
 107      =1  sfr PWM0H                               = 0xD2;
 108      =1  sfr PWM1H                               = 0xD3;
 109      =1  sfr PWM2H                               = 0xD4;
 110      =1  sfr PWM3H                               = 0xD5;
 111      =1  sfr PNP                                 = 0xD6;
 112      =1  sfr FBD                                 = 0xD7;
 113      =1  
 114      =1  sfr PWMCON0                     = 0xD8;
 115      =1  sfr PWMPL       = 0xD9;
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 3   

 116      =1  sfr PWM0L                               = 0xDA;
 117      =1  sfr PWM1L                               = 0xDB;
 118      =1  sfr PWM2L                               = 0xDC;
 119      =1  sfr PWM3L                               = 0xDD;
 120      =1  sfr PIOCON0                     = 0xDE;
 121      =1  sfr PWMCON1     = 0xDF;
 122      =1  
 123      =1  sfr ACC         = 0xE0;
 124      =1  sfr ADCCON1     = 0xE1;
 125      =1  sfr ADCCON2     = 0xE2;
 126      =1  sfr ADCDLY      = 0xE3;
 127      =1  sfr C0L         = 0xE4;
 128      =1  sfr C0H         = 0xE5;
 129      =1  sfr C1L         = 0xE6;
 130      =1  sfr C1H         = 0xE7;
 131      =1  
 132      =1  sfr ADCCON0     = 0xE8;
 133      =1  sfr PICON       = 0xE9;
 134      =1  sfr PINEN       = 0xEA;
 135      =1  sfr PIPEN       = 0xEB;
 136      =1  sfr PIF         = 0xEC;
 137      =1  sfr C2L         = 0xED;
 138      =1  sfr C2H         = 0xEE;
 139      =1  sfr EIP         = 0xEF;
 140      =1  
 141      =1  sfr B           = 0xF0;
 142      =1  sfr CAPCON3                     = 0xF1;
 143      =1  sfr CAPCON4                     = 0xF2;
 144      =1  sfr SPCR        = 0xF3;
 145      =1  sfr SPCR2                               = 0xF3; //Page1
 146      =1  sfr SPSR        = 0xF4;
 147      =1  sfr SPDR        = 0xF5;
 148      =1  sfr AINDIDS                     = 0xF6;
 149      =1  sfr EIPH        = 0xF7;
 150      =1  
 151      =1  sfr SCON_1      = 0xF8;
 152      =1  sfr PDTEN       = 0xF9; //TA Protection
 153      =1  sfr PDTCNT      = 0xFA; //TA Protection
 154      =1  sfr PMEN        = 0xFB;
 155      =1  sfr PMD         = 0xFC;
 156      =1  sfr EIP1        = 0xFE;
 157      =1  sfr EIPH1       = 0xFF;
 158      =1  
 159      =1  /*  BIT Registers  */
 160      =1  /*  SCON_1  */
 161      =1  sbit SM0_1      = SCON_1^7;
 162      =1  sbit FE_1       = SCON_1^7; 
 163      =1  sbit SM1_1      = SCON_1^6; 
 164      =1  sbit SM2_1      = SCON_1^5; 
 165      =1  sbit REN_1      = SCON_1^4; 
 166      =1  sbit TB8_1      = SCON_1^3; 
 167      =1  sbit RB8_1      = SCON_1^2; 
 168      =1  sbit TI_1       = SCON_1^1; 
 169      =1  sbit RI_1       = SCON_1^0; 
 170      =1  
 171      =1  /*  ADCCON0  */
 172      =1  sbit ADCF       = ADCCON0^7;
 173      =1  sbit ADCS       = ADCCON0^6;
 174      =1  sbit ETGSEL1    = ADCCON0^5;
 175      =1  sbit ETGSEL0    = ADCCON0^4;
 176      =1  sbit ADCHS3     = ADCCON0^3;
 177      =1  sbit ADCHS2     = ADCCON0^2;
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 4   

 178      =1  sbit ADCHS1     = ADCCON0^1;
 179      =1  sbit ADCHS0     = ADCCON0^0;
 180      =1  
 181      =1  /*  PWMCON0  */
 182      =1  sbit PWMRUN     = PWMCON0^7;
 183      =1  sbit LOAD       = PWMCON0^6;
 184      =1  sbit PWMF       = PWMCON0^5;
 185      =1  sbit CLRPWM     = PWMCON0^4;
 186      =1  
 187      =1  
 188      =1  /*  PSW */
 189      =1  sbit CY         = PSW^7;
 190      =1  sbit AC         = PSW^6;
 191      =1  sbit F0         = PSW^5;
 192      =1  sbit RS1        = PSW^4;
 193      =1  sbit RS0        = PSW^3;
 194      =1  sbit OV         = PSW^2;
 195      =1  sbit P          = PSW^0;
 196      =1  
 197      =1  /*  T2CON  */
 198      =1  sbit TF2        = T2CON^7;
 199      =1  sbit TR2        = T2CON^2;
 200      =1  sbit CM_RL2     = T2CON^0;
 201      =1   
 202      =1  /*  I2CON  */
 203      =1  sbit I2CEN      = I2CON^6;
 204      =1  sbit STA        = I2CON^5;
 205      =1  sbit STO        = I2CON^4;
 206      =1  sbit SI         = I2CON^3;
 207      =1  sbit AA         = I2CON^2;
 208      =1  sbit I2CPX      = I2CON^0;
 209      =1  
 210      =1  /*  IP  */  
 211      =1  sbit PADC       = IP^6;
 212      =1  sbit PBOD       = IP^5;
 213      =1  sbit PS         = IP^4;
 214      =1  sbit PT1        = IP^3;
 215      =1  sbit PX1        = IP^2;
 216      =1  sbit PT0        = IP^1;
 217      =1  sbit PX0        = IP^0;
 218      =1  
 219      =1  /*  P3  */  
 220      =1  sbit P30                = P3^0;
 221      =1  
 222      =1  
 223      =1  /*  IE  */
 224      =1  sbit EA         = IE^7;
 225      =1  sbit EADC       = IE^6;
 226      =1  sbit EBOD       = IE^5;
 227      =1  sbit ES         = IE^4;
 228      =1  sbit ET1        = IE^3;
 229      =1  sbit EX1        = IE^2;
 230      =1  sbit ET0        = IE^1;
 231      =1  sbit EX0        = IE^0;
 232      =1  
 233      =1  /*  P2  */ 
 234      =1  sbit P20        = P2^0;
 235      =1  
 236      =1  /*  SCON  */
 237      =1  sbit SM0        = SCON^7;
 238      =1  sbit FE         = SCON^7; 
 239      =1  sbit SM1        = SCON^6; 
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 5   

 240      =1  sbit SM2        = SCON^5; 
 241      =1  sbit REN        = SCON^4; 
 242      =1  sbit TB8        = SCON^3; 
 243      =1  sbit RB8        = SCON^2; 
 244      =1  sbit TI         = SCON^1; 
 245      =1  sbit RI         = SCON^0; 
 246      =1  
 247      =1  /*  P1  */     
 248      =1  sbit P17        = P1^7;
 249      =1  sbit P16        = P1^6;
 250      =1  sbit TXD_1      = P1^6; 
 251      =1  sbit P15        = P1^5;
 252      =1  sbit P14        = P1^4;
 253      =1  sbit SDA        = P1^4;    
 254      =1  sbit P13        = P1^3;
 255      =1  sbit SCL        = P1^3;  
 256      =1  sbit P12        = P1^2; 
 257      =1  sbit P11        = P1^1;
 258      =1  sbit P10        = P1^0;
 259      =1  
 260      =1  /*  TCON  */
 261      =1  sbit TF1                                = TCON^7;
 262      =1  sbit TR1                                = TCON^6;
 263      =1  sbit TF0                                = TCON^5;
 264      =1  sbit TR0                                = TCON^4;
 265      =1  sbit IE1                                = TCON^3;
 266      =1  sbit IT1                                = TCON^2;
 267      =1  sbit IE0                                = TCON^1;
 268      =1  sbit IT0                                = TCON^0;
 269      =1  
 270      =1  /*  P0  */  
 271      =1  
 272      =1  sbit P07                                = P0^7;
 273      =1  sbit RXD                                = P0^7;
 274      =1  sbit P06                                = P0^6;
 275      =1  sbit TXD                                = P0^6;
 276      =1  sbit P05                                = P0^5;
 277      =1  sbit P04                                = P0^4;
 278      =1  sbit STADC                              = P0^4;
 279      =1  sbit P03                                = P0^3;
 280      =1  sbit P02                                = P0^2;
 281      =1  sbit RXD_1                              = P0^2;
 282      =1  sbit P01                                = P0^1;
 283      =1  sbit MISO                               = P0^1;
 284      =1  sbit P00                                = P0^0;
 285      =1  sbit MOSI                               = P0^0;
 286      =1  
 287      =1  
 288      =1  
 289      =1  
 290      =1  
 291      =1  
 292      =1  
 293      =1  
 294      =1  
 295      =1  
 296      =1  
 297      =1  
 298      =1  
 299      =1  
 300      =1  
 301      =1  
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 6   

 302      =1  
 303      =1  
 304      =1  
   2          #include "SFR_Macro.h"
   1      =1  
   2      =1  /**** P0                80H *****/
   3      =1  #define set_P00                 P00             =               1
   4      =1  #define set_P01                 P01             =               1
   5      =1  #define set_P02                 P02             =               1
   6      =1  #define set_P03                 P03             =               1
   7      =1  #define set_P04                 P04             =               1
   8      =1  #define set_P05                 P05             =               1
   9      =1  #define set_P06                 P06             =               1
  10      =1  #define set_P07                 P07             =               1
  11      =1  
  12      =1  #define clr_P00                 P00             =               0
  13      =1  #define clr_P01                 P01             =               0
  14      =1  #define clr_P02                 P02             =               0
  15      =1  #define clr_P03                 P03             =               0
  16      =1  #define clr_P04                 P04             =               0
  17      =1  #define clr_P05                 P05             =               0
  18      =1  #define clr_P06                 P06             =               0
  19      =1  #define clr_P07                 P07             =               0
  20      =1  
  21      =1  //**** SP       81H **** 
  22      =1  //**** DPH  82H **** 
  23      =1  //**** DPL  83H **** 
  24      =1  //**** RWK  86H **** 
  25      =1  
  26      =1  //**** PCON     87H *****
  27      =1  #define set_SMOD    PCON    |= SET_BIT7
  28      =1  #define set_SMOD0   PCON    |= SET_BIT6
  29      =1  #define set_POF     PCON    |= SET_BIT4
  30      =1  #define set_GF1     PCON    |= SET_BIT3
  31      =1  #define set_GF0     PCON    |= SET_BIT2 
  32      =1  #define set_PD      PCON    |= SET_BIT1
  33      =1  #define set_IDL         PCON    |= SET_BIT0
  34      =1                              
  35      =1  #define clr_SMOD    PCON    &= ~SET_BIT7
  36      =1  #define clr_SMOD0   PCON    &= ~SET_BIT6
  37      =1  #define clr_POF     PCON    &= ~SET_BIT4
  38      =1  #define clr_GF1     PCON    &= ~SET_BIT3
  39      =1  #define clr_GF0     PCON    &= ~SET_BIT2 
  40      =1  #define clr_PD      PCON    &= ~SET_BIT1
  41      =1  #define clr_IDL         PCON    &= ~SET_BIT0
  42      =1  
  43      =1  /**** TCON              88H ****/
  44      =1  #define set_TF1                 TF1             =               1
  45      =1  #define set_TR1                 TR1             =               1
  46      =1  #define set_TF0                 TF0             =               1
  47      =1  #define set_TR0                 TR0             =               1
  48      =1  #define set_IE1                 IE1             =               1
  49      =1  #define set_IT1                 IT1             =               1
  50      =1  #define set_IE0                 IE0             =               1
  51      =1  #define set_IT0                 IT0             =               1
  52      =1  
  53      =1  #define clr_TF1                 TF1             =               0
  54      =1  #define clr_TR1                 TR1             =               0
  55      =1  #define clr_TF0                 TF0             =               0
  56      =1  #define clr_TR0                 TR0             =               0
  57      =1  #define clr_IE1                 IE1             =               0
  58      =1  #define clr_IT1                 IT1             =               0
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 7   

  59      =1  #define clr_IE0                 IE0             =               0
  60      =1  #define clr_IT0                 IT0             =               0
  61      =1  
  62      =1  //**** TMOD             89H **** 
  63      =1  #define set_GATE_T1     TMOD            |=      SET_BIT7
  64      =1  #define set_CT_T1               TMOD    |=      SET_BIT6
  65      =1  #define set_M1_T1               TMOD    |=      SET_BIT5
  66      =1  #define set_M0_T1               TMOD    |=      SET_BIT4
  67      =1  #define set_GATE_T0     TMOD            |=      SET_BIT3
  68      =1  #define set_CT_T0               TMOD      |=    SET_BIT2
  69      =1  #define set_M1_T0               TMOD    |=      SET_BIT1
  70      =1  #define set_M0_T0               TMOD    |=      SET_BIT0
  71      =1                              
  72      =1  #define clr_GATE_T1     TMOD            &=      ~SET_BIT7
  73      =1  #define clr_CT_T1               TMOD    &=      ~SET_BIT6
  74      =1  #define clr_M1_T1               TMOD    &=      ~SET_BIT5
  75      =1  #define clr_M0_T1               TMOD    &=      ~SET_BIT4
  76      =1  #define clr_GATE_T0     TMOD            &=      ~SET_BIT3
  77      =1  #define clr_CT_T0               TMOD    &=      ~SET_BIT2
  78      =1  #define clr_M1_T0               TMOD    &=      ~SET_BIT1
  79      =1  #define clr_M0_T0               TMOD    &=      ~SET_BIT0
  80      =1  
  81      =1  //**** TH1              8AH **** 
  82      =1  //**** TH0              8BH **** 
  83      =1  //**** TL1              8CH     **** 
  84      =1  //**** TL0              8DH **** 
  85      =1  
  86      =1  //**** CKCON    8EH ****
  87      =1  #define set_PWMCKS  CKCON   |= SET_BIT6
  88      =1  #define set_T1M     CKCON   |= SET_BIT4
  89      =1  #define set_T0M     CKCON   |= SET_BIT3
  90      =1  #define set_CLOEN   CKCON   |= SET_BIT1
  91      =1                              
  92      =1  #define clr_PWMCKS  CKCON   &= ~SET_BIT6
  93      =1  #define clr_T1M     CKCON   &= ~SET_BIT4
  94      =1  #define clr_T0M     CKCON   &= ~SET_BIT3
  95      =1  #define clr_CLOEN   CKCON   &= ~SET_BIT1
  96      =1  
  97      =1  //**** WKCON    8FH ****
  98      =1  #define set_WKTCK   WKCON   |= SET_BIT5
  99      =1  #define set_WKTF    WKCON   |= SET_BIT4
 100      =1  #define set_WKTR    WKCON   |= SET_BIT3
 101      =1  #define set_WKPS2   WKCON   |= SET_BIT2
 102      =1  #define set_WKPS1   WKCON   |= SET_BIT1
 103      =1  #define set_WKPS0   WKCON   |= SET_BIT0
 104      =1                              
 105      =1  #define clr_WKTCK   WKCON   &= ~SET_BIT5
 106      =1  #define clr_WKTF    WKCON   &= ~SET_BIT4
 107      =1  #define clr_WKTR    WKCON   &= ~SET_BIT3
 108      =1  #define clr_WKPS2   WKCON   &= ~SET_BIT2
 109      =1  #define clr_WKPS1   WKCON   &= ~SET_BIT1
 110      =1  #define clr_WKPS0   WKCON   &= ~SET_BIT0
 111      =1  
 112      =1  /**** P1                90H *****/
 113      =1  #define set_P10                 P10             =               1
 114      =1  #define set_P11                 P11             =               1
 115      =1  #define set_P12                 P12             =               1
 116      =1  #define set_P13                 P13             =               1
 117      =1  #define set_P14                 P14             =               1
 118      =1  #define set_P15                 P15             =               1
 119      =1  #define set_P16                 P16             =               1
 120      =1  #define set_P17                 P17             =               1
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 8   

 121      =1  
 122      =1  #define clr_P10                 P10             =               0
 123      =1  #define clr_P11                 P11             =               0
 124      =1  #define clr_P12                 P12             =               0
 125      =1  #define clr_P13                 P13             =               0
 126      =1  #define clr_P14                 P14             =               0
 127      =1  #define clr_P15                 P15             =               0
 128      =1  #define clr_P16                 P16             =               0
 129      =1  #define clr_P17                 P17             =               0
 130      =1  
 131      =1  //****SFRS              91H ****
 132      =1  #define set_SFRPAGE  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=SET_BIT0;EA=BIT_TMP
 133      =1  #define clr_SFRPAGE  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS&=~SET_BIT0;EA=BIT_TMP
 134      =1  
 135      =1  //****CAPCON0   92H ****
 136      =1  #define set_CAPEN2  CAPCON0 |= SET_BIT6
 137      =1  #define set_CAPEN1  CAPCON0 |= SET_BIT5
 138      =1  #define set_CAPEN0  CAPCON0 |= SET_BIT4
 139      =1  #define set_CAPF2   CAPCON0 |= SET_BIT2
 140      =1  #define set_CAPF1   CAPCON0 |= SET_BIT1
 141      =1  #define set_CAPF0   CAPCON0 |= SET_BIT0
 142      =1  
 143      =1  #define clr_CAPEN2  CAPCON0 &= ~SET_BIT6
 144      =1  #define clr_CAPEN1  CAPCON0 &= ~SET_BIT5
 145      =1  #define clr_CAPEN0  CAPCON0 &= ~SET_BIT4
 146      =1  #define clr_CAPF2   CAPCON0 &= ~SET_BIT2
 147      =1  #define clr_CAPF1   CAPCON0 &= ~SET_BIT1
 148      =1  #define clr_CAPF0   CAPCON0 &= ~SET_BIT0
 149      =1  
 150      =1  //**** CAPCON1  93H ****
 151      =1  #define set_CAP2LS1 CAPCON1 |= SET_BIT5
 152      =1  #define set_CAP2LS0 CAPCON1 |= SET_BIT4
 153      =1  #define set_CAP1LS1 CAPCON1 |= SET_BIT3
 154      =1  #define set_CAP1LS0 CAPCON1 |= SET_BIT2
 155      =1  #define set_CAP0LS1 CAPCON1 |= SET_BIT1
 156      =1  #define set_CAP0LS0 CAPCON1 |= SET_BIT0
 157      =1  
 158      =1  #define clr_CAP2LS1 CAPCON1 &= ~SET_BIT5
 159      =1  #define clr_CAP2LS0 CAPCON1 &= ~SET_BIT4
 160      =1  #define clr_CAP1LS1 CAPCON1 &= ~SET_BIT3
 161      =1  #define clr_CAP1LS0 CAPCON1 &= ~SET_BIT2
 162      =1  #define clr_CAP0LS1 CAPCON1 &= ~SET_BIT1
 163      =1  #define clr_CAP0LS0 CAPCON1 &= ~SET_BIT0
 164      =1  
 165      =1  //**** CAPCON2          94H ****
 166      =1  #define set_ENF2  CAPCON2   |= SET_BIT6
 167      =1  #define set_ENF1  CAPCON2   |= SET_BIT5
 168      =1  #define set_ENF0  CAPCON2   |= SET_BIT4
 169      =1                              
 170      =1  #define clr_ENF2  CAPCON2   &= ~SET_BIT6
 171      =1  #define clr_ENF1  CAPCON2   &= ~SET_BIT5
 172      =1  #define clr_ENF0  CAPCON2   &= ~SET_BIT4
 173      =1  
 174      =1  //**** CKDIV            95H ****
 175      =1  
 176      =1  //**** CKSWT            96H ****  TA protect register
 177      =1  #define set_HIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT5;EA=BIT_TMP;
 178      =1  #define set_LIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT4;EA=BIT_TMP;
 179      =1  #define set_ECLKST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT3;EA=BIT_TMP;
 180      =1  #define set_OSC1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT2;EA=BIT_TMP;
 181      =1  #define set_OSC0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT1;EA=BIT_TMP;
 182      =1  
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 9   

 183      =1  #define clr_HIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT5;EA=BIT_TMP;
 184      =1  #define clr_LIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT4;EA=BIT_TMP;
 185      =1  #define clr_ECLKST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT3;EA=BIT_TMP;
 186      =1  #define clr_OSC1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT2;EA=BIT_TMP;
 187      =1  #define clr_OSC0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT1;EA=BIT_TMP;
 188      =1  
 189      =1  //**** CKEN     97H **** TA protect register
 190      =1  #define set_EXTEN1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT7;EA=BIT_TMP;
 191      =1  #define set_EXTEN0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT6;EA=BIT_TMP;
 192      =1  #define set_HIRCEN  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT5;EA=BIT_TMP;
 193      =1  #define set_CKSWTF  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT0;EA=BIT_TMP;
 194      =1         
 195      =1  #define clr_EXTEN1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT7;EA=BIT_TMP;
 196      =1  #define clr_EXTEN0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT6;EA=BIT_TMP;
 197      =1  #define clr_HIRCEN  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT5;EA=BIT_TMP;
 198      =1  #define clr_CKSWTF  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT0;EA=BIT_TMP;
 199      =1  
 200      =1  //**** SCON             98H ****
 201      =1  #define set_FE      FE    = 1
 202      =1  #define set_SM1     SM1   = 1
 203      =1  #define set_SM2     SM2   = 1
 204      =1  #define set_REN     REN   = 1
 205      =1  #define set_TB8     TB8   = 1
 206      =1  #define set_RB8     RB8   = 1
 207      =1  #define set_TI      TI    = 1
 208      =1  #define set_RI      RI    = 1
 209      =1  
 210      =1  #define clr_FE      FE    = 0
 211      =1  #define clr_SM1     SM1   = 0
 212      =1  #define clr_SM2     SM2   = 0
 213      =1  #define clr_REN     REN   = 0
 214      =1  #define clr_TB8     TB8   = 0
 215      =1  #define clr_RB8     RB8   = 0
 216      =1  #define clr_TI      TI    = 0
 217      =1  #define clr_RI      RI    = 0
 218      =1  
 219      =1  //**** SBUF             99H ****
 220      =1  //**** SBUF_1   9AH ****
 221      =1  
 222      =1  //**** EIE              9BH ****                      
 223      =1  #define set_ET2     EIE     |= SET_BIT7
 224      =1  #define set_ESPI    EIE     |= SET_BIT6
 225      =1  #define set_EFB     EIE     |= SET_BIT5
 226      =1  #define set_EWDT    EIE     |= SET_BIT4
 227      =1  #define set_EPWM    EIE     |= SET_BIT3
 228      =1  #define set_ECAP    EIE     |= SET_BIT2
 229      =1  #define set_EPI     EIE     |= SET_BIT1
 230      =1  #define set_EI2C    EIE     |= SET_BIT0
 231      =1                              
 232      =1  #define clr_ET2     EIE     &= ~SET_BIT7
 233      =1  #define clr_ESPI    EIE     &= ~SET_BIT6
 234      =1  #define clr_EFB     EIE     &= ~SET_BIT5
 235      =1  #define clr_EWDT    EIE     &= ~SET_BIT4
 236      =1  #define clr_EPWM    EIE     &= ~SET_BIT3
 237      =1  #define clr_ECAP    EIE     &= ~SET_BIT2
 238      =1  #define clr_EPI     EIE     &= ~SET_BIT1
 239      =1  #define clr_EI2C    EIE     &= ~SET_BIT0
 240      =1  
 241      =1  //**** EIE1             9CH ****                      
 242      =1  #define set_EWKT    EIE1    |= SET_BIT2
 243      =1  #define set_ET3     EIE1    |= SET_BIT1
 244      =1  #define set_ES_1    EIE1    |= SET_BIT0
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 10  

 245      =1                              
 246      =1  #define clr_EWKT    EIE1    &= ~SET_BIT2
 247      =1  #define clr_ET3     EIE1    &= ~SET_BIT1
 248      =1  #define clr_ES_1    EIE1    &= ~SET_BIT0
 249      =1                              
 250      =1  //**** CHPCON           9DH ****  TA protect register
 251      =1  #define set_SWRST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT7 ;EA=BIT_TMP
 252      =1  #define set_IAPFF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT6 ;EA=BIT_TMP
 253      =1  #define set_BS      BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT1 ;EA=BIT_TMP
 254      =1  #define set_IAPEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT0 ;EA=BIT_TMP
 255      =1         
 256      =1  #define clr_SWRST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT7;EA=BIT_TMP
 257      =1  #define clr_IAPFF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT6;EA=BIT_TMP
 258      =1  #define clr_BS      BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT1;EA=BIT_TMP
 259      =1  #define clr_IAPEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT0;EA=BIT_TMP
 260      =1  
 261      =1  //**** P2               A0H ****
 262      =1  
 263      =1  //**** AUXR1    A2H ****
 264      =1  #define set_SWRF    AUXR1   |= SET_BIT7
 265      =1  #define set_RSTPINF AUXR1   |= SET_BIT6
 266      =1  #define set_HARDF       AUXR1   |= SET_BIT5
 267      =1  #define set_GF2     AUXR1   |= SET_BIT3
 268      =1  #define set_UART0PX AUXR1   |= SET_BIT2
 269      =1  #define set_DPS     AUXR1   |= SET_BIT0
 270      =1                              
 271      =1  #define clr_SWRF    AUXR1   &= ~SET_BIT7
 272      =1  #define clr_RSTPINF AUXR1   &= ~SET_BIT6
 273      =1  #define clr_HARDF       AUXR1   &= ~SET_BIT5
 274      =1  #define clr_GF2     AUXR1   &= ~SET_BIT3
 275      =1  #define clr_UART0PX AUXR1   &= ~SET_BIT2
 276      =1  #define clr_DPS     AUXR1   &= ~SET_BIT0
 277      =1  
 278      =1  //**** BODCON0  A3H ****  TA protect register
 279      =1  #define set_BODEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT7;EA=BIT_TMP
 280      =1  #define set_BOV2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT6;EA=BIT_TMP
 281      =1  #define set_BOV1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT5;EA=BIT_TMP
 282      =1  #define set_BOV0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT4;EA=BIT_TMP
 283      =1  #define set_BOF     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT3;EA=BIT_TMP
 284      =1  #define set_BORST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT2;EA=BIT_TMP
 285      =1  #define set_BORF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT1;EA=BIT_TMP
 286      =1  #define set_BOS     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT0;EA=BIT_TMP
 287      =1  
 288      =1  #define clr_BODEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT7;EA=BIT_TMP
 289      =1  #define clr_BOV2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT6;EA=BIT_TMP
 290      =1  #define clr_BOV1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT5;EA=BIT_TMP
 291      =1  #define clr_BOV0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT4;EA=BIT_TMP
 292      =1  #define clr_BOF     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT3;EA=BIT_TMP
 293      =1  #define clr_BORST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT2;EA=BIT_TMP
 294      =1  #define clr_BORF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT1;EA=BIT_TMP
 295      =1  #define clr_BOS     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT0;EA=BIT_TMP
 296      =1  
 297      =1  //**** IAPTRG           A4H     ****  TA protect register
 298      =1  #define set_IAPGO   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPTRG|=SET_BIT0 ;EA=BIT_TMP
 299      =1  #define clr_IAPGO   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPTRG&=~SET_BIT0;EA=BIT_TMP
 300      =1  
 301      =1  //**** IAPUEN           A5H **** TA protect register
 302      =1  #define set_CFUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN|=SET_BIT2;EA=BIT_TMP
 303      =1  #define set_LDUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN|=SET_BIT1;EA=BIT_TMP
 304      =1  #define set_APUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN|=SET_BIT0;EA=BIT_TMP
 305      =1  
 306      =1  #define clr_CFUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN&=~SET_BIT2;EA=BIT_TMP
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 11  

 307      =1  #define clr_LDUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN&=~SET_BIT1;EA=BIT_TMP
 308      =1  #define clr_APUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN&=~SET_BIT0;EA=BIT_TMP
 309      =1  
 310      =1  //**** IAPAL    A6H ****
 311      =1  //**** IAPAH    A7H ****
 312      =1  
 313      =1  //**** IE                       A8H ****
 314      =1  #define set_EA      EA       = 1
 315      =1  #define set_EADC    EADC     = 1
 316      =1  #define set_EBOD    EBOD     = 1
 317      =1  #define set_ES      ES       = 1
 318      =1  #define set_ET1     ET1      = 1
 319      =1  #define set_EX1     EX1      = 1
 320      =1  #define set_ET0     ET0      = 1
 321      =1  #define set_EX0     EX0      = 1
 322      =1  
 323      =1  #define clr_EA      EA       = 0
 324      =1  #define clr_EADC    EADC     = 0
 325      =1  #define clr_EBOD    EBOD     = 0
 326      =1  #define clr_ES      ES       = 0
 327      =1  #define clr_ET1     ET1      = 0
 328      =1  #define clr_EX1     EX1      = 0
 329      =1  #define clr_ET0     ET0      = 0
 330      =1  #define clr_EX0     EX0      = 0
 331      =1  
 332      =1  //**** SADDR            A9H ****
 333      =1  
 334      =1  //**** WDCON            AAH **** TA protect register
 335      =1  #define set_WDTR        BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT7;EA=BIT_TMP;
 336      =1  #define set_WDCLR   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT6;EA=BIT_TMP;
 337      =1  #define set_WDTF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT5;EA=BIT_TMP;
 338      =1  #define set_WIDPD               BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT4;EA=BIT_TMP;
 339      =1  #define set_WDTRF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT3;EA=BIT_TMP;
 340      =1  #define set_WPS2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT2;EA=BIT_TMP;
 341      =1  #define set_WPS1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT1;EA=BIT_TMP;
 342      =1  #define set_WPS0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT0;EA=BIT_TMP;
 343      =1          
 344      =1  #define clr_WDTEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT7;EA=BIT_TMP;
 345      =1  #define clr_WDCLR   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT6;EA=BIT_TMP;
 346      =1  #define clr_WDTF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT5;EA=BIT_TMP;
 347      =1  #define clr_WDTRF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT3;EA=BIT_TMP;
 348      =1  #define clr_WPS2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT2;EA=BIT_TMP;
 349      =1  #define clr_WPS1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT1;EA=BIT_TMP;
 350      =1  #define clr_WPS0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT0;EA=BIT_TMP;
 351      =1  
 352      =1  //**** BODCON1 ABH **** TA protect register
 353      =1  #define set_LPBOD1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1|=SET_BIT2 ;EA=BIT_TMP;
 354      =1  #define set_LPBOD0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1|=SET_BIT1 ;EA=BIT_TMP;
 355      =1  #define set_BODFLT  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1|=SET_BIT0 ;EA=BIT_TMP;
 356      =1          
 357      =1  #define clr_LPBOD1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1&=~SET_BIT2;EA=BIT_TMP;
 358      =1  #define clr_LPBOD0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1&=~SET_BIT1;EA=BIT_TMP;
 359      =1  #define clr_BODFLT  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1&=~SET_BIT0;EA=BIT_TMP;
 360      =1  
 361      =1  
 362      =1  //**** P3M1             ACH PAGE0 ****
 363      =1  #define set_P3M1_0  P3M1    |= SET_BIT0
 364      =1  #define clr_P3M1_0  P3M1    &= ~SET_BIT0
 365      =1  
 366      =1  //**** P3S              ACH PAGE1 **** SFRS must set as 1 to modify this register  
 367      =1  #define set_P3S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3S|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 12  

 368      =1  #define clr_P3S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3S&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 369      =1  
 370      =1  //**** P3M2             ADH PAGE0 ****
 371      =1  #define set_P3M2_0  P3M2    |= SET_BIT0
 372      =1  #define clr_P3M2_0  P3M2    &= ~SET_BIT0
 373      =1  
 374      =1  //**** P3SR             ADH PAGE1 **** SFRS must set as 1 to modify this register  
 375      =1  #define set_P3SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3SR|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 376      =1  #define clr_P3SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3SR&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 377      =1  
 378      =1  //**** IAPFD    AEH ****
 379      =1  
 380      =1  //**** IAPCN    AFH ****
 381      =1  #define set_FOEN    IAPN    |= SET_BIT5
 382      =1  #define set_FCEN    IAPN    |= SET_BIT4
 383      =1  #define set_FCTRL3  IAPN    |= SET_BIT3
 384      =1  #define set_FCTRL2  IAPN    |= SET_BIT2
 385      =1  #define set_FCTRL1  IAPN    |= SET_BIT1
 386      =1  #define set_FCTRL0  IAPN    |= SET_BIT0
 387      =1                              
 388      =1  #define clr_FOEN    IAPN    &= ~SET_BIT5
 389      =1  #define clr_FCEN    IAPN    &= ~SET_BIT4
 390      =1  #define clr_FCTRL3  IAPN    &= ~SET_BIT3
 391      =1  #define clr_FCTRL2  IAPN    &= ~SET_BIT2
 392      =1  #define clr_FCTRL1  IAPN    &= ~SET_BIT1
 393      =1  #define clr_FCTRL0  IAPN    &= ~SET_BIT0
 394      =1  
 395      =1  //**** P3               B0H ****
 396      =1  #define set_P30     P30      = 1
 397      =1  #define clr_P30     P30      = 0
 398      =1  
 399      =1  //**** P0M1     B1H PAGE0 ****
 400      =1  #define set_P0M1_7  P0M1    |= SET_BIT7
 401      =1  #define set_P0M1_6  P0M1    |= SET_BIT6
 402      =1  #define set_P0M1_5  P0M1    |= SET_BIT5 
 403      =1  #define set_P0M1_4  P0M1    |= SET_BIT4
 404      =1  #define set_P0M1_3  P0M1    |= SET_BIT3
 405      =1  #define set_P0M1_2  P0M1    |= SET_BIT2
 406      =1  #define set_P0M1_1  P0M1    |= SET_BIT1
 407      =1  #define set_P0M1_0  P0M1    |= SET_BIT0
 408      =1  
 409      =1  #define clr_P0M1_7  P0M1    &= ~SET_BIT7
 410      =1  #define clr_P0M1_6  P0M1    &= ~SET_BIT6
 411      =1  #define clr_P0M1_5  P0M1    &= ~SET_BIT5
 412      =1  #define clr_P0M1_4  P0M1    &= ~SET_BIT4
 413      =1  #define clr_P0M1_3  P0M1    &= ~SET_BIT3
 414      =1  #define clr_P0M1_2  P0M1    &= ~SET_BIT2
 415      =1  #define clr_P0M1_1  P0M1    &= ~SET_BIT1
 416      =1  #define clr_P0M1_0  P0M1    &= ~SET_BIT0
 417      =1  
 418      =1  //**** P0S      B2H PAGE1 **** SFRS must set as 1 to modify this register  
 419      =1  #define set_P0S_7   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 420      =1  #define set_P0S_6   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 421      =1  #define set_P0S_5   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 422      =1  #define set_P0S_4   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 13  

 423      =1  #define set_P0S_3   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 424      =1  #define set_P0S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 425      =1  #define set_P0S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 426      =1  #define set_P0S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 427      =1  
 428      =1  #define clr_P0S_7   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 429      =1  #define clr_P0S_6   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 430      =1  #define clr_P0S_5   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 431      =1  #define clr_P0S_4   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 432      =1  #define clr_P0S_3   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 433      =1  #define clr_P0S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 434      =1  #define clr_P0S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 435      =1  #define clr_P0S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 436      =1  
 437      =1  //**** P0M2             B2H PAGE0 ****
 438      =1  #define set_P0M2_7  P0M2    |= SET_BIT7
 439      =1  #define set_P0M2_6  P0M2    |= SET_BIT6
 440      =1  #define set_P0M2_5  P0M2    |= SET_BIT5 
 441      =1  #define set_P0M2_4  P0M2    |= SET_BIT4
 442      =1  #define set_P0M2_3  P0M2    |= SET_BIT3
 443      =1  #define set_P0M2_2  P0M2    |= SET_BIT2
 444      =1  #define set_P0M2_1  P0M2    |= SET_BIT1
 445      =1  #define set_P0M2_0  P0M2    |= SET_BIT0
 446      =1  
 447      =1  #define clr_P0M2_7  P0M2    &= ~SET_BIT7
 448      =1  #define clr_P0M2_6  P0M2    &= ~SET_BIT6
 449      =1  #define clr_P0M2_5  P0M2    &= ~SET_BIT5
 450      =1  #define clr_P0M2_4  P0M2    &= ~SET_BIT4
 451      =1  #define clr_P0M2_3  P0M2    &= ~SET_BIT3
 452      =1  #define clr_P0M2_2  P0M2    &= ~SET_BIT2
 453      =1  #define clr_P0M2_1  P0M2    &= ~SET_BIT1
 454      =1  #define clr_P0M2_0  P0M2    &= ~SET_BIT0
 455      =1  
 456      =1  
 457      =1  //**** P0SR             B0H PAGE1 **** SFRS must set as 1 to modify this register  
 458      =1  #define set_P0SR_7  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 459      =1  #define set_P0SR_6  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 460      =1  #define set_P0SR_5  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 461      =1  #define set_P0SR_4  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 462      =1  #define set_P0SR_3  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 463      =1  #define set_P0SR_2  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 464      =1  #define set_P0SR_1  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 465      =1  #define set_P0SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 14  

             -MP
 466      =1  
 467      =1  #define clr_P0SR_7  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 468      =1  #define clr_P0SR_6  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 469      =1  #define clr_P0SR_5  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 470      =1  #define clr_P0SR_4  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 471      =1  #define clr_P0SR_3  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 472      =1  #define clr_P0SR_2  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 473      =1  #define clr_P0SR_1  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 474      =1  #define clr_P0SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 475      =1  
 476      =1  
 477      =1  //**** P1M1     B3H PAGE0 ****
 478      =1  #define set_P1M1_7  P1M1        |= SET_BIT7
 479      =1  #define set_P1M1_6  P1M1        |= SET_BIT6
 480      =1  #define set_P1M1_5  P1M1        |= SET_BIT5 
 481      =1  #define set_P1M1_4  P1M1        |= SET_BIT4
 482      =1  #define set_P1M1_3  P1M1        |= SET_BIT3
 483      =1  #define set_P1M1_2  P1M1        |= SET_BIT2
 484      =1  #define set_P1M1_1  P1M1        |= SET_BIT1
 485      =1  #define set_P1M1_0  P1M1        |= SET_BIT0
 486      =1  
 487      =1  #define clr_P1M1_7  P1M1        &= ~SET_BIT7
 488      =1  #define clr_P1M1_6  P1M1        &= ~SET_BIT6
 489      =1  #define clr_P1M1_5  P1M1        &= ~SET_BIT5
 490      =1  #define clr_P1M1_4  P1M1        &= ~SET_BIT4
 491      =1  #define clr_P1M1_3  P1M1        &= ~SET_BIT3
 492      =1  #define clr_P1M1_2  P1M1        &= ~SET_BIT2
 493      =1  #define clr_P1M1_1  P1M1        &= ~SET_BIT1
 494      =1  #define clr_P1M1_0  P1M1        &= ~SET_BIT0
 495      =1  
 496      =1  //**** P1S B3H PAGE1 **** SFRS must set as 1 to modify this register  
 497      =1  #define set_P1S_7               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 498      =1  #define set_P1S_6               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 499      =1  #define set_P1S_5               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 500      =1  #define set_P1S_4               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 501      =1  #define set_P1S_3               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 502      =1  #define set_P1S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 503      =1  #define set_P1S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 504      =1  #define set_P1S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 505      =1  
 506      =1  #define clr_P1S_7               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 507      =1  #define clr_P1S_6               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 508      =1  #define clr_P1S_5               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 509      =1  #define clr_P1S_4               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 510      =1  #define clr_P1S_3               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 15  

 511      =1  #define clr_P1S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 512      =1  #define clr_P1S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 513      =1  #define clr_P1S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 514      =1  
 515      =1  //**** P1M2             B4H PAGE0 ****                      
 516      =1  #define set_P12UP   P1M2    |= SET_BIT2
 517      =1  #define set_P1M2_1  P1M2    |= SET_BIT1
 518      =1  #define set_P1M2_0  P1M2    |= SET_BIT0
 519      =1                              
 520      =1  #define clr_P12UP   P1M2    &= ~SET_BIT2
 521      =1  #define clr_P1M2_1  P1M2    &= ~SET_BIT1
 522      =1  #define clr_P1M2_0  P1M2    &= ~SET_BIT0
 523      =1  
 524      =1  //**** P1SR             B4H PAGE1 **** SFRS must set as 1 to modify this register  
 525      =1  #define set_P1SR_7              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 526      =1  #define set_P1SR_6              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 527      =1  #define set_P1SR_5              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 528      =1  #define set_P1SR_4              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 529      =1  #define set_P1SR_3              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 530      =1  #define set_P1SR_2              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 531      =1  #define set_P1SR_1              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 532      =1  #define set_P1SR_0              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 533      =1  
 534      =1  #define clr_P1SR_7              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 535      =1  #define clr_P1SR_6              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 536      =1  #define clr_P1SR_5              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 537      =1  #define clr_P1SR_4              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 538      =1  #define clr_P1SR_3              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 539      =1  #define clr_P1SR_2              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 540      =1  #define clr_P1SR_1              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 541      =1  #define clr_P1SR_0              BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 542      =1  
 543      =1  
 544      =1  //**** P2S              B5H     ****
 545      =1  #define set_P2S_0   P2S     |= SET_BIT0
 546      =1  #define clr_P2S_0   P2S     &= ~SET_BIT0
 547      =1  
 548      =1  //**** IPH    B7H PAGE0 ****                    
 549      =1  #define set_PADCH   IPH         |= SET_BIT6
 550      =1  #define set_PBODH   IPH         |= SET_BIT5
 551      =1  #define set_PSH     IPH         |= SET_BIT4
 552      =1  #define set_PT1H    IPH         |= SET_BIT3
 553      =1  #define set_PX11    IPH         |= SET_BIT2
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 16  

 554      =1  #define set_PT0H    IPH         |= SET_BIT1
 555      =1  #define set_PX0H    IPH         |= SET_BIT0
 556      =1                              
 557      =1  #define clr_PADCH   IPH         &= ~SET_BIT6
 558      =1  #define clr_PBODH   IPH         &= ~SET_BIT5
 559      =1  #define clr_PSH     IPH         &= ~SET_BIT4
 560      =1  #define clr_PT1H    IPH         &= ~SET_BIT3
 561      =1  #define clr_PX11    IPH         &= ~SET_BIT2
 562      =1  #define clr_PT0H    IPH         &= ~SET_BIT1
 563      =1  #define clr_PX0H    IPH         &= ~SET_BIT0
 564      =1  
 565      =1  //**** PWMINTC B7H PAGE1 **** SFRS must set as 1 to modify this register  
 566      =1  #define set_INTTYP1             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 567      =1  #define set_INTTYP0             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 568      =1  #define set_INTSEL2             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 569      =1  #define set_INTSEL1             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 570      =1  #define set_INTSEL0             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 571      =1  
 572      =1  #define clr_INTTYP1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA
             -=BIT_TMP
 573      =1  #define clr_INTTYP0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA
             -=BIT_TMP
 574      =1  #define clr_INTSEL2             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=
             -BIT_TMP
 575      =1  #define clr_INTSEL1             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=
             -BIT_TMP
 576      =1  #define clr_INTSEL0             BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=
             -BIT_TMP
 577      =1  
 578      =1  //**** IP               B8H     ****
 579      =1  #define set_PADC    PADC     = 1
 580      =1  #define set_PBOD    PBOD     = 1
 581      =1  #define set_PS      PS       = 1
 582      =1  #define set_PT1     PT1      = 1
 583      =1  #define set_PX1     PX1      = 1
 584      =1  #define set_PT0     PT0      = 1
 585      =1  #define set_PX0     PX0      = 1
 586      =1  
 587      =1  #define clr_PADC    PADC     = 0
 588      =1  #define clr_PBOD    PBOD     = 0
 589      =1  #define clr_PS      PS       = 0
 590      =1  #define clr_PT1     PT1      = 0
 591      =1  #define clr_PX1     PX1      = 0
 592      =1  #define clr_PT0     PT0      = 0
 593      =1  #define clr_PX0     PX0      = 0
 594      =1  
 595      =1  //**** SADEN            B9H ****
 596      =1  //**** SADEN_1  8AH ****
 597      =1  //**** SADDR_1  BBH ****
 598      =1  //**** I2DAT            BCH ****
 599      =1  //**** I2STAT           BDH ****
 600      =1  //**** I2CLK            BEH ****
 601      =1  
 602      =1  //**** I2TOC            BFH ****
 603      =1  #define set_I2TOCEN             I2TOC           |= SET_BIT2
 604      =1  #define set_DIV                         I2TOC           |= SET_BIT1
 605      =1  #define set_I2TOF                       I2TOC           |= SET_BIT0
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 17  

 606      =1  
 607      =1  #define clr_I2TOCEN             I2TOC           &= ~SET_BIT2
 608      =1  #define clr_DIV                         I2TOC           &= ~SET_BIT1
 609      =1  #define clr_I2TOF                       I2TOC           &= ~SET_BIT0
 610      =1  
 611      =1  //**** I2CON  C0H **** 
 612      =1  #define set_I2CEN       I2CEN           = 1
 613      =1  #define set_STA         STA                     = 1
 614      =1  #define set_STO                         STO                     = 1
 615      =1  #define set_SI                          SI                      = 1
 616      =1  #define set_AA                          AA                      = 1
 617      =1  #define set_I2CPX                       I2CPX           = 1
 618      =1  
 619      =1  #define clr_I2CEN                       I2CEN           = 0
 620      =1  #define clr_STA                         STA                     = 0
 621      =1  #define clr_STO                         STO                     = 0
 622      =1  #define clr_SI                          SI                      = 0
 623      =1  #define clr_AA                          AA                      = 0
 624      =1  #define clr_I2CPX                       I2CPX           = 0 
 625      =1  
 626      =1  //**** I2ADDR           C1H ****
 627      =1  #define set_GC      I2ADDR  |= SET_BIT0
 628      =1  #define clr_GC      I2ADDR  &= ~SET_BIT0
 629      =1  
 630      =1  //**** ADCRL            C2H ****
 631      =1  //**** ADCRH            C3H ****
 632      =1  
 633      =1  //**** T3CON            C4H     PAGE0 ****                     
 634      =1  #define set_SMOD_1  T3CON   |= SET_BIT7
 635      =1  #define set_SMOD0_1 T3CON   |= SET_BIT6
 636      =1  #define set_BRCK    T3CON   |= SET_BIT5
 637      =1  #define set_TF3     T3CON   |= SET_BIT4
 638      =1  #define set_TR3     T3CON   |= SET_BIT3
 639      =1  #define set_T3PS2   T3CON   |= SET_BIT2
 640      =1  #define set_T3PS1   T3CON   |= SET_BIT1
 641      =1  #define set_T3PS0   T3CON   |= SET_BIT0
 642      =1                              
 643      =1  #define clr_SMOD_1  T3CON   &= ~SET_BIT7
 644      =1  #define clr_SMOD0_1 T3CON   &= ~SET_BIT6
 645      =1  #define clr_BRCK    T3CON   &= ~SET_BIT5
 646      =1  #define clr_TF3     T3CON   &= ~SET_BIT4
 647      =1  #define clr_TR3     T3CON   &= ~SET_BIT3
 648      =1  #define clr_T3PS2   T3CON   &= ~SET_BIT2
 649      =1  #define clr_T3PS1   T3CON   &= ~SET_BIT1
 650      =1  #define clr_T3PS0   T3CON   &= ~SET_BIT0
 651      =1  
 652      =1  //**** PWM4H    C4H     PAGE1 **** SFRS must set as 1 to modify this register  
 653      =1  //**** RL3              C5H PAGE0 ****
 654      =1  //**** PWM5H    C5H PAGE1 **** SFRS must set as 1 to modify this register  
 655      =1  //**** RH3              C6H PAGE0 ****
 656      =1  
 657      =1  //**** PIOCON1 C6H PAGE1 **** SFRS must set as 1 to modify this register  
 658      =1  #define set_PIO15               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT
             -_TMP
 659      =1  #define set_PIO13   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 660      =1  #define set_PIO12   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 661      =1  #define set_PIO11   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 662      =1  
 663      =1  #define clr_PIO15               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 18  

             -T_TMP
 664      =1  #define clr_PIO13               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 665      =1  #define clr_PIO12               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 666      =1  #define clr_PIO11               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 667      =1  
 668      =1  //**** T2CON  C8H ****
 669      =1  #define set_TF2     TF2      = 1
 670      =1  #define set_TR2     TR2      = 1
 671      =1  #define set_CMRL2   CMRL2    = 1
 672      =1  
 673      =1  #define clr_TF2     TF2      = 0
 674      =1  #define clr_TR2     TR2      = 0
 675      =1  #define clr_CMRL2   CMRL2    = 0
 676      =1  
 677      =1  //**** T2MOD    C9H ****                     
 678      =1  #define set_LDEN    T2MOD   |= SET_BIT7
 679      =1  #define set_T2DIV2  T2MOD   |= SET_BIT6
 680      =1  #define set_T2DIV1  T2MOD   |= SET_BIT5
 681      =1  #define set_T2DIV0  T2MOD   |= SET_BIT4
 682      =1  #define set_CAPCR   T2MOD   |= SET_BIT3
 683      =1  #define set_CMPCR   T2MOD   |= SET_BIT2
 684      =1  #define set_LDTS1   T2MOD   |= SET_BIT1
 685      =1  #define set_LDTS0   T2MOD   |= SET_BIT0
 686      =1                              
 687      =1  #define clr_LDEN    T2MOD   &= ~SET_BIT7
 688      =1  #define clr_T2DIV2  T2MOD   &= ~SET_BIT6
 689      =1  #define clr_T2DIV1  T2MOD   &= ~SET_BIT5
 690      =1  #define clr_T2DIV0  T2MOD   &= ~SET_BIT4
 691      =1  #define clr_CAPCR   T2MOD   &= ~SET_BIT3
 692      =1  #define clr_CMPCR   T2MOD   &= ~SET_BIT2
 693      =1  #define clr_LDTS1   T2MOD   &= ~SET_BIT1
 694      =1  #define clr_LDTS0   T2MOD   &= ~SET_BIT0
 695      =1  
 696      =1  //**** RCMP2H CAH ****
 697      =1  //**** RCMP2L CBH ****
 698      =1  //**** TL2              CCH PAGE0 ****
 699      =1  //**** PWM4L    CCH PAGE1 **** SFRS must set as 1 to modify this register  
 700      =1  //**** TH2              CDH PAGE0 ****
 701      =1  //**** PWM5L    CDH PAGE1 **** SFRS must set as 1 to modify this register  
 702      =1  //**** ADCMPL   CEH **** 
 703      =1  //**** ADCMPH   CFH ****
 704      =1  
 705      =1  /****  PSW              D0H ****/
 706      =1  #define set_CY          CY      = 1
 707      =1  #define set_AC          AC  = 1
 708      =1  #define set_F0    F0    = 1 
 709      =1  #define set_RS1         RS1 = 1
 710      =1  #define set_RS0         RS0 = 1
 711      =1  #define set_OV          OV      = 1
 712      =1  #define set_P                   P               = 1
 713      =1  
 714      =1  #define clr_CY          CY      = 0
 715      =1  #define clr_AC          AC  = 0
 716      =1  #define clr_F0    F0    = 0 
 717      =1  #define clr_RS1         RS1 = 0
 718      =1  #define clr_RS0         RS0 = 0
 719      =1  #define clr_OV          OV      = 0
 720      =1  #define clr_P                   P               = 0
 721      =1  
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 19  

 722      =1  //**** PWMPH            D1H ****
 723      =1  //**** PWM0H            D2H ****
 724      =1  //**** PWM1H            D3H ****
 725      =1  //**** PWM2H            D4H ****
 726      =1  //**** PWM3H            D5H     ****
 727      =1  
 728      =1  //**** PNP                      D6H ****
 729      =1  #define set_PNP5    PNP     |= SET_BIT5
 730      =1  #define set_PNP4    PNP     |= SET_BIT4
 731      =1  #define set_PNP3    PNP     |= SET_BIT3
 732      =1  #define set_PNP2    PNP     |= SET_BIT2
 733      =1  #define set_PNP1    PNP     |= SET_BIT1
 734      =1  #define set_PNP0    PNP     |= SET_BIT0
 735      =1  
 736      =1  #define clr_PNP5    PNP     &= ~SET_BIT5
 737      =1  #define clr_PNP4    PNP     &= ~SET_BIT4
 738      =1  #define clr_PNP3    PNP     &= ~SET_BIT3
 739      =1  #define clr_PNP2    PNP     &= ~SET_BIT2
 740      =1  #define clr_PNP1    PNP     &= ~SET_BIT1
 741      =1  #define clr_PNP0    PNP     &= ~SET_BIT0
 742      =1  
 743      =1  //**** FBD              D7H ****
 744      =1  #define set_FBF     FBD     |= SET_BIT7
 745      =1  #define set_FBINLS  FBD     |= SET_BIT6
 746      =1  #define set_FBD5    FBD     |= SET_BIT5
 747      =1  #define set_FBD4    FBD     |= SET_BIT4
 748      =1  #define set_FBD3    FBD     |= SET_BIT3
 749      =1  #define set_FBD2    FBD     |= SET_BIT2
 750      =1  #define set_FBD1    FBD     |= SET_BIT1
 751      =1  #define set_FBD0    FBD     |= SET_BIT0
 752      =1  
 753      =1  #define clr_FBF     FBD     &= ~SET_BIT7
 754      =1  #define clr_FBINLS  FBD     &= ~SET_BIT6
 755      =1  #define clr_FBD5    FBD     &= ~SET_BIT5
 756      =1  #define clr_FBD4    FBD     &= ~SET_BIT4
 757      =1  #define clr_FBD3    FBD     &= ~SET_BIT3
 758      =1  #define clr_FBD2    FBD     &= ~SET_BIT2
 759      =1  #define clr_FBD1    FBD     &= ~SET_BIT1
 760      =1  #define clr_FBD0    FBD     &= ~SET_BIT0
 761      =1  
 762      =1  /**** PWMCON0                   D8H ****/
 763      =1  #define set_PWMRUN  PWMRUN   = 1
 764      =1  #define set_LOAD    LOAD     = 1
 765      =1  #define set_PWMF    PWMF     = 1
 766      =1  #define set_CLRPWM  CLRPWM   = 1
 767      =1  
 768      =1  #define clr_PWMRUN  PWMRUN   = 0
 769      =1  #define clr_LOAD    LOAD     = 0
 770      =1  #define clr_PWMF    PWMF     = 0 
 771      =1  #define clr_CLRPWM  CLRPWM   = 0
 772      =1  
 773      =1  //**** PWMPL            D9H ****
 774      =1  //**** PWM0L            DAH ****
 775      =1  //**** PWM1L            DBH ****
 776      =1  //**** PWM2L            DCH ****
 777      =1  //**** PWM3L            DDH ****
 778      =1  
 779      =1  //**** PIOCON0  DEH ****
 780      =1  #define set_PIO05    PIOCON0     |= SET_BIT5
 781      =1  #define set_PIO04    PIOCON0     |= SET_BIT4
 782      =1  #define set_PIO03    PIOCON0     |= SET_BIT3
 783      =1  #define set_PIO02    PIOCON0     |= SET_BIT2
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 20  

 784      =1  #define set_PIO01    PIOCON0     |= SET_BIT1
 785      =1  #define set_PIO00    PIOCON0     |= SET_BIT0
 786      =1  
 787      =1  #define clr_PIO05    PIOCON0     &= ~SET_BIT5
 788      =1  #define clr_PIO04    PIOCON0     &= ~SET_BIT4
 789      =1  #define clr_PIO03    PIOCON0     &= ~SET_BIT3
 790      =1  #define clr_PIO02    PIOCON0     &= ~SET_BIT2
 791      =1  #define clr_PIO01    PIOCON0     &= ~SET_BIT1
 792      =1  #define clr_PIO00    PIOCON0     &= ~SET_BIT0
 793      =1  
 794      =1  //**** PWMCON1  DFH ****
 795      =1  #define set_PWMMOD1             PWMCON1  |= SET_BIT7
 796      =1  #define set_PWMMOD0             PWMCON1  |= SET_BIT6
 797      =1  #define set_GP          PWMCON1  |= SET_BIT5
 798      =1  #define set_PWMTYP      PWMCON1  |= SET_BIT4
 799      =1  #define set_FBINEN              PWMCON1  |= SET_BIT3
 800      =1  #define set_PWMDIV2             PWMCON1  |= SET_BIT2 
 801      =1  #define set_PWMDIV1             PWMCON1  |= SET_BIT1
 802      =1  #define set_PWMDIV0             PWMCON1  |= SET_BIT0
 803      =1                              
 804      =1  #define clr_PWMMOD1             PWMCON1  &= ~SET_BIT7
 805      =1  #define clr_PWMMOD0             PWMCON1  &= ~SET_BIT6
 806      =1  #define clr_GP                          PWMCON1  &= ~SET_BIT5
 807      =1  #define clr_PWMTYP              PWMCON1  &= ~SET_BIT4
 808      =1  #define clr_FBINEN              PWMCON1  &= ~SET_BIT3
 809      =1  #define clr_PWMDIV2             PWMCON1  &= ~SET_BIT2 
 810      =1  #define clr_PWMDIV1             PWMCON1  &= ~SET_BIT1
 811      =1  #define clr_PWMDIV0             PWMCON1  &= ~SET_BIT0
 812      =1  
 813      =1  //**** ACC      E0H ****
 814      =1  
 815      =1  //**** ADCCON1  E1H ****
 816      =1  #define set_STADCPX ADCCON1  |= SET_BIT6
 817      =1  #define set_ETGTYP1 ADCCON1  |= SET_BIT3
 818      =1  #define set_ETGTYP0 ADCCON1  |= SET_BIT2
 819      =1  #define set_ADCEX   ADCCON1  |= SET_BIT1
 820      =1  #define set_ADCEN   ADCCON1  |= SET_BIT0
 821      =1  
 822      =1  #define clr_STADCPX ADCCON1  &= ~SET_BIT6
 823      =1  #define clr_ETGTYP1 ADCCON1  &= ~SET_BIT3
 824      =1  #define clr_ETGTYP0 ADCCON1  &= ~SET_BIT2
 825      =1  #define clr_ADCEX   ADCCON1  &= ~SET_BIT1
 826      =1  #define clr_ADCEN   ADCCON1  &= ~SET_BIT0
 827      =1  
 828      =1  //**** ADCON2           E2H ****
 829      =1  #define set_ADFBEN  ADCCON2  |= SET_BIT7
 830      =1  #define set_ADCMPOP ADCCON2  |= SET_BIT6
 831      =1  #define set_ADCMPEN ADCCON2  |= SET_BIT5
 832      =1  #define set_ADCMPO  ADCCON2  |= SET_BIT4
 833      =1  
 834      =1  #define clr_ADFBEN  ADCCON2  &= ~SET_BIT7
 835      =1  #define clr_ADCMPOP ADCCON2  &= ~SET_BIT6
 836      =1  #define clr_ADCMPEN ADCCON2  &= ~SET_BIT5
 837      =1  #define clr_ADCMPO  ADCCON2  &= ~SET_BIT4
 838      =1  
 839      =1  //**** ADCDLY           E3H ****
 840      =1  //**** C0L                      E4H ****
 841      =1  //**** C0H                      E5H ****
 842      =1  //**** C1L                      E6H ****
 843      =1  //**** C1H                      E7H ****
 844      =1  
 845      =1  //**** ADCCON0  EAH ****
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 21  

 846      =1  #define set_ADCF    ADCF     = 1
 847      =1  #define set_ADCS    ADCS     = 1
 848      =1  #define set_ETGSEL1 ETGSEL1  = 1
 849      =1  #define set_ETGSEL0 ETGSEL0  = 1
 850      =1  #define set_ADCHS3  ADCHS3   = 1
 851      =1  #define set_ADCHS2  ADCHS2   = 1
 852      =1  #define set_ADCHS1  ADCHS1   = 1
 853      =1  #define set_ADCHS0  ADCHS0   = 1
 854      =1  
 855      =1  #define clr_ADCF    ADCF     = 0
 856      =1  #define clr_ADCS    ADCS     = 0
 857      =1  #define clr_ETGSEL1 ETGSEL1  = 0
 858      =1  #define clr_ETGSEL0 ETGSEL0  = 0
 859      =1  #define clr_ADCHS3  ADCHS3   = 0
 860      =1  #define clr_ADCHS2  ADCHS2   = 0
 861      =1  #define clr_ADCHS1  ADCHS1   = 0
 862      =1  #define clr_ADCHS0  ADCHS0   = 0
 863      =1  
 864      =1  //**** PICON    E9H     ****
 865      =1  #define set_PIT67   PICON   |= SET_BIT7
 866      =1  #define set_PIT45   PICON   |= SET_BIT6
 867      =1  #define set_PIT3    PICON   |= SET_BIT5
 868      =1  #define set_PIT2    PICON   |= SET_BIT4
 869      =1  #define set_PIT1    PICON   |= SET_BIT3
 870      =1  #define set_PIT0    PICON   |= SET_BIT2
 871      =1  #define set_PIPS1   PICON   |= SET_BIT1
 872      =1  #define set_PIPS0   PICON   |= SET_BIT0
 873      =1                              
 874      =1  #define clr_PIT67   PICON   &= ~SET_BIT7
 875      =1  #define clr_PIT45   PICON   &= ~SET_BIT6
 876      =1  #define clr_PIT3    PICON   &= ~SET_BIT5
 877      =1  #define clr_PIT2    PICON   &= ~SET_BIT4
 878      =1  #define clr_PIT1    PICON   &= ~SET_BIT3
 879      =1  #define clr_PIT0    PICON   &= ~SET_BIT2
 880      =1  #define clr_PIPS1   PICON   &= ~SET_BIT1
 881      =1  #define clr_PIPS0   PICON   &= ~SET_BIT0
 882      =1  
 883      =1  //**** PINEN            EAH **** 
 884      =1  #define set_PINEN7  PINEN   |= SET_BIT7
 885      =1  #define set_PINEN6  PINEN   |= SET_BIT6
 886      =1  #define set_PINEN5  PINEN   |= SET_BIT5
 887      =1  #define set_PINEN4  PINEN   |= SET_BIT4
 888      =1  #define set_PINEN3  PINEN   |= SET_BIT3
 889      =1  #define set_PINEN2  PINEN   |= SET_BIT2
 890      =1  #define set_PINEN1  PINEN   |= SET_BIT1
 891      =1  #define set_PINEN0  PINEN   |= SET_BIT0
 892      =1                              
 893      =1  #define clr_PINEN7  PINEN   &= ~SET_BIT7
 894      =1  #define clr_PINEN6  PINEN   &= ~SET_BIT6
 895      =1  #define clr_PINEN5  PINEN   &= ~SET_BIT5
 896      =1  #define clr_PINEN4  PINEN   &= ~SET_BIT4
 897      =1  #define clr_PINEN3  PINEN   &= ~SET_BIT3
 898      =1  #define clr_PINEN2  PINEN   &= ~SET_BIT2
 899      =1  #define clr_PINEN1  PINEN   &= ~SET_BIT1
 900      =1  #define clr_PINEN0  PINEN   &= ~SET_BIT0
 901      =1                              
 902      =1  //**** PIPEN            EBH ****
 903      =1  #define set_PIPEN7  PIPEN   |= SET_BIT7
 904      =1  #define set_PIPEN6  PIPEN   |= SET_BIT6
 905      =1  #define set_PIPEN5  PIPEN   |= SET_BIT5
 906      =1  #define set_PIPEN4  PIPEN   |= SET_BIT4
 907      =1  #define set_PIPEN3  PIPEN   |= SET_BIT3
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 22  

 908      =1  #define set_PIPEN2  PIPEN   |= SET_BIT2
 909      =1  #define set_PIPEN1  PIPEN   |= SET_BIT1
 910      =1  #define set_PIPEN0  PIPEN   |= SET_BIT0
 911      =1                              
 912      =1  #define clr_PIPEN7  PIPEN   &= ~SET_BIT7
 913      =1  #define clr_PIPEN6  PIPEN   &= ~SET_BIT6
 914      =1  #define clr_PIPEN5  PIPEN   &= ~SET_BIT5
 915      =1  #define clr_PIPEN4  PIPEN   &= ~SET_BIT4
 916      =1  #define clr_PIPEN3  PIPEN   &= ~SET_BIT3
 917      =1  #define clr_PIPEN2  PIPEN   &= ~SET_BIT2
 918      =1  #define clr_PIPEN1  PIPEN   &= ~SET_BIT1
 919      =1  #define clr_PIPEN0  PIPEN   &= ~SET_BIT0
 920      =1     
 921      =1  //**** PIF      ECH ****
 922      =1  #define set_PIF7    PIF     |= SET_BIT7
 923      =1  #define set_PIF6    PIF     |= SET_BIT6
 924      =1  #define set_PIF5    PIF     |= SET_BIT5
 925      =1  #define set_PIF4    PIF     |= SET_BIT4
 926      =1  #define set_PIF3    PIF     |= SET_BIT3
 927      =1  #define set_PIF2    PIF     |= SET_BIT2
 928      =1  #define set_PIF1    PIF     |= SET_BIT1
 929      =1  #define set_PIF0    PIF     |= SET_BIT0
 930      =1  
 931      =1  #define clr_PIF7    PIF     &= ~SET_BIT7
 932      =1  #define clr_PIF6    PIF     &= ~SET_BIT6
 933      =1  #define clr_PIF5    PIF     &= ~SET_BIT5
 934      =1  #define clr_PIF4    PIF     &= ~SET_BIT4
 935      =1  #define clr_PIF3    PIF     &= ~SET_BIT3
 936      =1  #define clr_PIF2    PIF     &= ~SET_BIT2
 937      =1  #define clr_PIF1    PIF     &= ~SET_BIT1
 938      =1  #define clr_PIF0    PIF     &= ~SET_BIT0
 939      =1  
 940      =1  //**** C2L  EDH ****  
 941      =1  //**** C2H      EEH ****
 942      =1  
 943      =1  //**** EIP      EFH ****                      
 944      =1  #define set_PT2     EIP     |= SET_BIT7
 945      =1  #define set_PSPI    EIP     |= SET_BIT6
 946      =1  #define set_PFB     EIP     |= SET_BIT5
 947      =1  #define set_PWDT    EIP     |= SET_BIT4
 948      =1  #define set_PPWM    EIP     |= SET_BIT3
 949      =1  #define set_PCAP    EIP     |= SET_BIT2
 950      =1  #define set_PPI     EIP     |= SET_BIT1
 951      =1  #define set_PI2C    EIP     |= SET_BIT0
 952      =1                              
 953      =1  #define clr_PT2     EIP     &= ~SET_BIT7
 954      =1  #define clr_PSPI    EIP     &= ~SET_BIT6
 955      =1  #define clr_PFB     EIP     &= ~SET_BIT5
 956      =1  #define clr_PWDT    EIP     &= ~SET_BIT4
 957      =1  #define clr_PPWM    EIP     &= ~SET_BIT3
 958      =1  #define clr_PCAP    EIP     &= ~SET_BIT2
 959      =1  #define clr_PPI     EIP     &= ~SET_BIT1
 960      =1  #define clr_PI2C    EIP     &= ~SET_BIT0
 961      =1  
 962      =1  //**** B        F0H ****
 963      =1  
 964      =1  //**** CAPCON3          F1H ****
 965      =1  #define set_CAP13   CAPCON3    |= SET_BIT7
 966      =1  #define set_CAP12   CAPCON3    |= SET_BIT6
 967      =1  #define set_CAP11   CAPCON3    |= SET_BIT5
 968      =1  #define set_CAP10   CAPCON3    |= SET_BIT4
 969      =1  #define set_CAP03   CAPCON3    |= SET_BIT3
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 23  

 970      =1  #define set_CAP02   CAPCON3    |= SET_BIT2
 971      =1  #define set_CAP01   CAPCON3    |= SET_BIT1
 972      =1  #define set_CAP00   CAPCON3    |= SET_BIT0
 973      =1  
 974      =1  #define clr_CAP13   CAPCON3    &= ~SET_BIT7
 975      =1  #define clr_CAP12   CAPCON3    &= ~SET_BIT6
 976      =1  #define clr_CAP11   CAPCON3    &= ~SET_BIT5
 977      =1  #define clr_CAP10   CAPCON3    &= ~SET_BIT4
 978      =1  #define clr_CAP03   CAPCON3    &= ~SET_BIT3
 979      =1  #define clr_CAP02   CAPCON3    &= ~SET_BIT2
 980      =1  #define clr_CAP01   CAPCON3    &= ~SET_BIT1
 981      =1  #define clr_CAP00   CAPCON3    &= ~SET_BIT0
 982      =1  
 983      =1  //**** CAPCON4          F2H ****
 984      =1  #define set_CAP23    CAPCON4    |= SET_BIT3
 985      =1  #define set_CAP22    CAPCON4    |= SET_BIT2
 986      =1  #define set_CAP21    CAPCON4    |= SET_BIT1
 987      =1  #define set_CAP20    CAPCON4    |= SET_BIT0
 988      =1  
 989      =1  #define clr_CAP23    CAPCON4    &= ~SET_BIT3
 990      =1  #define clr_CAP22    CAPCON4    &= ~SET_BIT2
 991      =1  #define clr_CAP21    CAPCON4    &= ~SET_BIT1
 992      =1  #define clr_CAP20    CAPCON4    &= ~SET_BIT0
 993      =1  
 994      =1  //**** SPCR             F3H PAGE0 ****
 995      =1  #define set_SSOE    SPCR    |= SET_BIT7
 996      =1  #define set_SPIEN   SPCR    |= SET_BIT6
 997      =1  #define set_LSBFE   SPCR    |= SET_BIT5
 998      =1  #define set_MSTR    SPCR    |= SET_BIT4
 999      =1  #define set_CPOL    SPCR    |= SET_BIT3
1000      =1  #define set_CPHA    SPCR    |= SET_BIT2
1001      =1  #define set_SPR1    SPCR    |= SET_BIT1
1002      =1  #define set_SPR0    SPCR    |= SET_BIT0
1003      =1  
1004      =1  #define clr_SSOE    SPCR    &= ~SET_BIT7
1005      =1  #define clr_SPIEN   SPCR    &= ~SET_BIT6
1006      =1  #define clr_LSBFE   SPCR    &= ~SET_BIT5
1007      =1  #define clr_MSTR    SPCR    &= ~SET_BIT4
1008      =1  #define clr_CPOL    SPCR    &= ~SET_BIT3
1009      =1  #define clr_CPHA    SPCR    &= ~SET_BIT2
1010      =1  #define clr_SPR1    SPCR    &= ~SET_BIT1
1011      =1  #define clr_SPR0    SPCR    &= ~SET_BIT0
1012      =1  
1013      =1  //**** SPCR2            F3H PAGE1 **** SFRS must set as 1 to modify this register  
1014      =1  #define set_SPIS1               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;SPCR2|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
1015      =1  #define set_SPIS0               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x00;SPCR2|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
1016      =1  
1017      =1  #define clr_SPIS1               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x00;SPCR2&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
1018      =1  #define clr_SPIS0               BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x00;SPCR2&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
1019      =1  
1020      =1  //**** SPSR                     F4H ****
1021      =1  #define set_SPIF    SPSR    |= SET_BIT7
1022      =1  #define set_WCOL    SPSR    |= SET_BIT6
1023      =1  #define set_SPIOVF  SPSR    |= SET_BIT5
1024      =1  #define set_MODF    SPSR    |= SET_BIT4
1025      =1  #define set_DISMODF SPSR    |= SET_BIT3
1026      =1                              
1027      =1  #define clr_SPIF    SPSR    &= ~SET_BIT7
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 24  

1028      =1  #define clr_WCOL    SPSR    &= ~SET_BIT6
1029      =1  #define clr_SPIOVF  SPSR    &= ~SET_BIT5
1030      =1  #define clr_MODF    SPSR    &= ~SET_BIT4
1031      =1  #define clr_DISMODF SPSR    &= ~SET_BIT3
1032      =1  
1033      =1  //**** SPDR             F5H ****
1034      =1  
1035      =1  //**** AINDIDS  F6H ****
1036      =1  #define set_P11DIDS AINDIDS  |= SET_BIT7
1037      =1  #define set_P03DIDS AINDIDS  |= SET_BIT6
1038      =1  #define set_P04DIDS AINDIDS  |= SET_BIT5
1039      =1  #define set_P05DIDS AINDIDS  |= SET_BIT4
1040      =1  #define set_P06DIDS AINDIDS  |= SET_BIT3
1041      =1  #define set_P07DIDS AINDIDS  |= SET_BIT2
1042      =1  #define set_P30DIDS AINDIDS  |= SET_BIT1
1043      =1  #define set_P17DIDS AINDIDS  |= SET_BIT0
1044      =1  
1045      =1  #define clr_P11DIDS AINDIDS  &= ~SET_BIT7
1046      =1  #define clr_P03DIDS AINDIDS  &= ~SET_BIT6
1047      =1  #define clr_P04DIDS AINDIDS  &= ~SET_BIT5
1048      =1  #define clr_P05DIDS AINDIDS  &= ~SET_BIT4
1049      =1  #define clr_P06DIDS AINDIDS  &= ~SET_BIT3
1050      =1  #define clr_P07DIDS AINDIDS  &= ~SET_BIT2
1051      =1  #define clr_P30DIDS AINDIDS  &= ~SET_BIT1
1052      =1  #define clr_P17DIDS AINDIDS  &= ~SET_BIT0
1053      =1  
1054      =1  //**** EIPH                     F7H ****
1055      =1  #define set_PT2H    EIPH    |= SET_BIT7
1056      =1  #define set_PSPIH   EIPH    |= SET_BIT6
1057      =1  #define set_PFBH    EIPH    |= SET_BIT5
1058      =1  #define set_PWDTH   EIPH    |= SET_BIT4
1059      =1  #define set_PPWMH   EIPH    |= SET_BIT3
1060      =1  #define set_PCAPH   EIPH    |= SET_BIT2
1061      =1  #define set_PPIH    EIPH    |= SET_BIT1
1062      =1  #define set_PI2CH   EIPH    |= SET_BIT0
1063      =1                              
1064      =1  #define clr_PT2H    EIPH    &= ~SET_BIT7
1065      =1  #define clr_PSPIH   EIPH    &= ~SET_BIT6
1066      =1  #define clr_PFBH    EIPH    &= ~SET_BIT5
1067      =1  #define clr_PWDTH   EIPH    &= ~SET_BIT4
1068      =1  #define clr_PPWMH   EIPH    &= ~SET_BIT3
1069      =1  #define clr_PCAPH   EIPH    &= ~SET_BIT2
1070      =1  #define clr_PPIH    EIPH    &= ~SET_BIT1
1071      =1  #define clr_PI2CH   EIPH    &= ~SET_BIT0
1072      =1  
1073      =1  /**** SCON_1            F8H ****/
1074      =1  #define set_FE_1    FE_1  = 1
1075      =1  #define set_SM1_1   SM1_1 = 1
1076      =1  #define set_SM2_1   SM2_1 = 1
1077      =1  #define set_REN_1   REN_1 = 1
1078      =1  #define set_TB8_1   TB8_1 = 1
1079      =1  #define set_RB8_1   RB8_1 = 1
1080      =1  #define set_TI_1    TI_1  = 1
1081      =1  #define set_RI_1    RI_1  = 1
1082      =1  
1083      =1  #define clr_FE_1    FE_1  = 0
1084      =1  #define clr_SM1_1   SM1_1 = 0
1085      =1  #define clr_SM2_1   SM2_1 = 0
1086      =1  #define clr_REN_1   REN_1 = 0
1087      =1  #define clr_TB8_1   TB8_1 = 0
1088      =1  #define clr_RB8_1   RB8_1 = 0
1089      =1  #define clr_TI_1    TI_1  = 0
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 25  

1090      =1  #define clr_RI_1    RI_1  = 0
1091      =1  
1092      =1  //**** PDTEN            F9H ****
1093      =1  #define set_PDT45EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|= SET_BIT2  ;EA=BIT_TMP;
1094      =1  #define set_PDT23EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|= SET_BIT1  ;EA=BIT_TMP;
1095      =1  #define set_PDT01EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|= SET_BIT0  ;EA=BIT_TMP;
1096      =1  
1097      =1  #define clr_PDT45EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN &= ~SET_BIT2 ;EA=BIT_TMP;
1098      =1  #define clr_PDT23EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN &= ~SET_BIT1 ;EA=BIT_TMP;
1099      =1  #define clr_PDT01EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN &= ~SET_BIT0 ;EA=BIT_TMP;
1100      =1  
1101      =1  //**** PDTCNT           FAH ****
1102      =1  
1103      =1  //**** PMEN     FBH ****                   
1104      =1  #define set_PMEN5   PMEN    |= SET_BIT5
1105      =1  #define set_PMEN4   PMEN    |= SET_BIT4
1106      =1  #define set_PMEN3   PMEN    |= SET_BIT3
1107      =1  #define set_PMEN2   PMEN    |= SET_BIT2
1108      =1  #define set_PMEN1   PMEN    |= SET_BIT1
1109      =1  #define set_PMEN0   PMEN    |= SET_BIT0
1110      =1                              
1111      =1  #define clr_PMEN5   PMEN    &= ~SET_BIT5
1112      =1  #define clr_PMEN4   PMEN    &= ~SET_BIT4
1113      =1  #define clr_PMEN3   PMEN    &= ~SET_BIT3
1114      =1  #define clr_PMEN2   PMEN    &= ~SET_BIT2
1115      =1  #define clr_PMEN1   PMEN    &= ~SET_BIT1
1116      =1  #define clr_PMEN0   PMEN    &= ~SET_BIT0
1117      =1                              
1118      =1  //**** PMD              FCH ****                       
1119      =1  #define set_PMD7    PMD     |= SET_BIT7
1120      =1  #define set_PMD6    PMD     |= SET_BIT6
1121      =1  #define set_PMD5    PMD     |= SET_BIT5
1122      =1  #define set_PMD4    PMD     |= SET_BIT4
1123      =1  #define set_PMD3    PMD     |= SET_BIT3
1124      =1  #define set_PMD2    PMD     |= SET_BIT2
1125      =1  #define set_PMD1    PMD     |= SET_BIT1
1126      =1  #define set_PMD0    PMD     |= SET_BIT0
1127      =1                              
1128      =1  #define clr_PMD7    PMD     &= ~SET_BIT7
1129      =1  #define clr_PMD6    PMD     &= ~SET_BIT6
1130      =1  #define clr_PMD5    PMD     &= ~SET_BIT5
1131      =1  #define clr_PMD4    PMD     &= ~SET_BIT4
1132      =1  #define clr_PMD3    PMD     &= ~SET_BIT3
1133      =1  #define clr_PMD2    PMD     &= ~SET_BIT2
1134      =1  #define clr_PMD1    PMD     &= ~SET_BIT1
1135      =1  #define clr_PMD0    PMD     &= ~SET_BIT0
1136      =1  
1137      =1  //****  EIP1            FEH ****                     
1138      =1  #define set_PWKT    EIP1    |= SET_BIT2
1139      =1  #define set_PT3     EIP1    |= SET_BIT1
1140      =1  #define set_PS_1    EIP1    |= SET_BIT0
1141      =1                              
1142      =1  #define clr_PWKT    EIP1    &= ~SET_BIT2
1143      =1  #define clr_PT3     EIP1    &= ~SET_BIT1
1144      =1  #define clr_PS_1    EIP1    &= ~SET_BIT0
1145      =1  
1146      =1  //**** EIPH1            FFH ****                
1147      =1  #define set_PWKTH   EIPH1   |= SET_BIT2
1148      =1  #define set_PT3H    EIPH1   |= SET_BIT1
1149      =1  #define set_PSH_1   EIPH1   |= SET_BIT0
1150      =1                              
1151      =1  #define clr_PWKTH   EIPH1   &= ~SET_BIT2
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 26  

1152      =1  #define clr_PT3H    EIPH1   &= ~SET_BIT1
1153      =1  #define clr_PSH_1   EIPH1   &= ~SET_BIT0
1154      =1  
1155      =1  
1156      =1  
1157      =1  
1158      =1  
1159      =1  
1160      =1  
1161      =1                              
1162      =1  
1163      =1  
1164      =1                              
1165      =1                 
1166      =1  
1167      =1  
1168      =1  
1169      =1  
1170      =1  
1171      =1  
1172      =1  
1173      =1  
1174      =1  
1175      =1  
1176      =1  
1177      =1  
   3          #include "Function_define.h"
   1      =1  /*--------------------------------------------------------------------------
   2      =1  N76E003 Function_define.h V1.02
   3      =1  
   4      =1  All function define inital setting file for Nuvoton N76E003
   5      =1  --------------------------------------------------------------------------*/
   6      =1  
   7      =1  #include <intrins.h>
   1      =2  /*--------------------------------------------------------------------------
   2      =2  INTRINS.H
   3      =2  
   4      =2  Intrinsic functions for C51.
   5      =2  Copyright (c) 1988-2010 Keil Elektronik GmbH and ARM Germany GmbH
   6      =2  All rights reserved.
   7      =2  --------------------------------------------------------------------------*/
   8      =2  
   9      =2  #ifndef __INTRINS_H__
  10      =2  #define __INTRINS_H__
  11      =2  
  12      =2  extern void          _nop_     (void);
  13      =2  extern bit           _testbit_ (bit);
  14      =2  extern unsigned char _cror_    (unsigned char, unsigned char);
  15      =2  extern unsigned int  _iror_    (unsigned int,  unsigned char);
  16      =2  extern unsigned long _lror_    (unsigned long, unsigned char);
  17      =2  extern unsigned char _crol_    (unsigned char, unsigned char);
  18      =2  extern unsigned int  _irol_    (unsigned int,  unsigned char);
  19      =2  extern unsigned long _lrol_    (unsigned long, unsigned char);
  20      =2  extern unsigned char _chkfloat_(float);
  21      =2  #if !defined (__CX2__)
  22      =2  extern void          _push_    (unsigned char _sfr);
  23      =2  extern void          _pop_     (unsigned char _sfr);
  24      =2  #endif
  25      =2  
  26      =2  #endif
  27      =2  
   8      =1  #include <stdio.h>
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 27  

   1      =2  /*--------------------------------------------------------------------------
   2      =2  STDIO.H
   3      =2  
   4      =2  Prototypes for standard I/O functions.
   5      =2  Copyright (c) 1988-2002 Keil Elektronik GmbH and Keil Software, Inc.
   6      =2  All rights reserved.
   7      =2  --------------------------------------------------------------------------*/
   8      =2  
   9      =2  #ifndef __STDIO_H__
  10      =2  #define __STDIO_H__
  11      =2  
  12      =2  #ifndef EOF
  13      =2   #define EOF -1
  14      =2  #endif
  15      =2  
  16      =2  #ifndef NULL
  17      =2   #define NULL ((void *) 0)
  18      =2  #endif
  19      =2  
  20      =2  #ifndef _SIZE_T
  21      =2   #define _SIZE_T
  22      =2   typedef unsigned int size_t;
  23      =2  #endif
  24      =2  
  25      =2  #pragma SAVE
  26      =2  #pragma REGPARMS
  27      =2  extern char _getkey (void);
  28      =2  extern char getchar (void);
  29      =2  extern char ungetchar (char);
  30      =2  extern char putchar (char);
  31      =2  extern int printf   (const char *, ...);
  32      =2  extern int sprintf  (char *, const char *, ...);
  33      =2  extern int vprintf  (const char *, char *);
  34      =2  extern int vsprintf (char *, const char *, char *);
  35      =2  extern char *gets (char *, int n);
  36      =2  extern int scanf (const char *, ...);
  37      =2  extern int sscanf (char *, const char *, ...);
  38      =2  extern int puts (const char *);
  39      =2  
  40      =2  #pragma RESTORE
  41      =2  
  42      =2  #endif
  43      =2  
   9      =1  
  10      =1  #define nop _nop_();
  11      =1  
  12      =1  
  13      =1  //16 --> 8 x 2
  14      =1  #define HIBYTE(v1)              ((UINT8)((v1)>>8))                      //v1 is UINT16
  15      =1  #define LOBYTE(v1)              ((UINT8)((v1)&0xFF))
  16      =1  //8 x 2 --> 16
  17      =1  #define MAKEWORD(v1,v2)         ((((UINT16)(v1))<<8)+(UINT16)(v2))      //v1,v2 is UINT8
  18      =1  //8 x 4 --> 32
  19      =1  #define MAKELONG(v1,v2,v3,v4)   (UINT32)((v1<<32)+(v2<<16)+(v3<<8)+v4)  //v1,v2,v3,v4 is UINT8
  20      =1  //32 --> 16 x 2
  21      =1  #define YBYTE1(v1)              ((UINT16)((v1)>>16))                    //v1 is UINT32
  22      =1  #define YBYTE0(v1)              ((UINT16)((v1)&0xFFFF))
  23      =1  //32 --> 8 x 4
  24      =1  #define TBYTE3(v1)              ((UINT8)((v1)>>24))                     //v1 is UINT32
  25      =1  #define TBYTE2(v1)              ((UINT8)((v1)>>16))
  26      =1  #define TBYTE1(v1)              ((UINT8)((v1)>>8)) 
  27      =1  #define TBYTE0(v1)              ((UINT8)((v1)&0xFF))
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 28  

  28      =1  
  29      =1  #define SET_BIT0        0x01
  30      =1  #define SET_BIT1        0x02
  31      =1  #define SET_BIT2        0x04
  32      =1  #define SET_BIT3        0x08
  33      =1  #define SET_BIT4        0x10
  34      =1  #define SET_BIT5        0x20
  35      =1  #define SET_BIT6        0x40
  36      =1  #define SET_BIT7        0x80
  37      =1  #define SET_BIT8        0x0100
  38      =1  #define SET_BIT9        0x0200
  39      =1  #define SET_BIT10       0x0400
  40      =1  #define SET_BIT11       0x0800
  41      =1  #define SET_BIT12       0x1000
  42      =1  #define SET_BIT13       0x2000
  43      =1  #define SET_BIT14       0x4000
  44      =1  #define SET_BIT15       0x8000
  45      =1  
  46      =1  #define CLR_BIT0        0xFE
  47      =1  #define CLR_BIT1        0xFD
  48      =1  #define CLR_BIT2        0xFB
  49      =1  #define CLR_BIT3        0xF7
  50      =1  #define CLR_BIT4        0xEF
  51      =1  #define CLR_BIT5        0xDF
  52      =1  #define CLR_BIT6        0xBF
  53      =1  #define CLR_BIT7        0x7F
  54      =1  
  55      =1  #define CLR_BIT8        0xFEFF
  56      =1  #define CLR_BIT9        0xFDFF
  57      =1  #define CLR_BIT10       0xFBFF
  58      =1  #define CLR_BIT11       0xF7FF
  59      =1  #define CLR_BIT12       0xEFFF
  60      =1  #define CLR_BIT13       0xDFFF
  61      =1  #define CLR_BIT14       0xBFFF
  62      =1  #define CLR_BIT15       0x7FFF
  63      =1  
  64      =1  #define FAIL            1
  65      =1  #define PASS            0
  66      =1  
  67      =1  /*****************************************************************************************
  68      =1  * For GPIO INIT setting 
  69      =1  *****************************************************************************************/
  70      =1  //------------------- Define Port as Quasi mode  -------------------
  71      =1  #define P00_Quasi_Mode                          P0M1&=~SET_BIT0;P0M2&=~SET_BIT0
  72      =1  #define P01_Quasi_Mode                          P0M1&=~SET_BIT1;P0M2&=~SET_BIT1
  73      =1  #define P02_Quasi_Mode                          P0M1&=~SET_BIT2;P0M2&=~SET_BIT2
  74      =1  #define P03_Quasi_Mode                          P0M1&=~SET_BIT3;P0M2&=~SET_BIT3
  75      =1  #define P04_Quasi_Mode                          P0M1&=~SET_BIT4;P0M2&=~SET_BIT4
  76      =1  #define P05_Quasi_Mode                          P0M1&=~SET_BIT5;P0M2&=~SET_BIT5
  77      =1  #define P06_Quasi_Mode                          P0M1&=~SET_BIT6;P0M2&=~SET_BIT6
  78      =1  #define P07_Quasi_Mode                          P0M1&=~SET_BIT7;P0M2&=~SET_BIT7
  79      =1  #define P10_Quasi_Mode                          P1M1&=~SET_BIT0;P1M2&=~SET_BIT0
  80      =1  #define P11_Quasi_Mode                          P1M1&=~SET_BIT1;P1M2&=~SET_BIT1
  81      =1  #define P12_Quasi_Mode                          P1M1&=~SET_BIT2;P1M2&=~SET_BIT2
  82      =1  #define P13_Quasi_Mode                          P1M1&=~SET_BIT3;P1M2&=~SET_BIT3
  83      =1  #define P14_Quasi_Mode                          P1M1&=~SET_BIT4;P1M2&=~SET_BIT4
  84      =1  #define P15_Quasi_Mode                          P1M1&=~SET_BIT5;P1M2&=~SET_BIT5
  85      =1  #define P16_Quasi_Mode                          P1M1&=~SET_BIT6;P1M2&=~SET_BIT6
  86      =1  #define P17_Quasi_Mode                          P1M1&=~SET_BIT7;P1M2&=~SET_BIT7
  87      =1  #define P30_Quasi_Mode                          P3M1&=~SET_BIT0;P3M2&=~SET_BIT0
  88      =1  //------------------- Define Port as Push Pull mode -------------------
  89      =1  #define P00_PushPull_Mode                       P0M1&=~SET_BIT0;P0M2|=SET_BIT0
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 29  

  90      =1  #define P01_PushPull_Mode                       P0M1&=~SET_BIT1;P0M2|=SET_BIT1
  91      =1  #define P02_PushPull_Mode                       P0M1&=~SET_BIT2;P0M2|=SET_BIT2
  92      =1  #define P03_PushPull_Mode                       P0M1&=~SET_BIT3;P0M2|=SET_BIT3
  93      =1  #define P04_PushPull_Mode                       P0M1&=~SET_BIT4;P0M2|=SET_BIT4
  94      =1  #define P05_PushPull_Mode                       P0M1&=~SET_BIT5;P0M2|=SET_BIT5
  95      =1  #define P06_PushPull_Mode                       P0M1&=~SET_BIT6;P0M2|=SET_BIT6
  96      =1  #define P07_PushPull_Mode                       P0M1&=~SET_BIT7;P0M2|=SET_BIT7
  97      =1  #define P10_PushPull_Mode                       P1M1&=~SET_BIT0;P1M2|=SET_BIT0
  98      =1  #define P11_PushPull_Mode                       P1M1&=~SET_BIT1;P1M2|=SET_BIT1
  99      =1  #define P12_PushPull_Mode                       P1M1&=~SET_BIT2;P1M2|=SET_BIT2
 100      =1  #define P13_PushPull_Mode                       P1M1&=~SET_BIT3;P1M2|=SET_BIT3
 101      =1  #define P14_PushPull_Mode                       P1M1&=~SET_BIT4;P1M2|=SET_BIT4
 102      =1  #define P15_PushPull_Mode                       P1M1&=~SET_BIT5;P1M2|=SET_BIT5
 103      =1  #define P16_PushPull_Mode                       P1M1&=~SET_BIT6;P1M2|=SET_BIT6
 104      =1  #define P17_PushPull_Mode                       P1M1&=~SET_BIT7;P1M2|=SET_BIT7
 105      =1  #define P30_PushPull_Mode                       P3M1&=~SET_BIT0;P3M2|=SET_BIT0
 106      =1  #define GPIO1_PushPull_Mode             P1M1&=~SET_BIT0;P1M2|=SET_BIT0
 107      =1  //------------------- Define Port as Input Only mode -------------------
 108      =1  #define P00_Input_Mode                          P0M1|=SET_BIT0;P0M2&=~SET_BIT0
 109      =1  #define P01_Input_Mode                          P0M1|=SET_BIT1;P0M2&=~SET_BIT1
 110      =1  #define P02_Input_Mode                          P0M1|=SET_BIT2;P0M2&=~SET_BIT2
 111      =1  #define P03_Input_Mode                          P0M1|=SET_BIT3;P0M2&=~SET_BIT3
 112      =1  #define P04_Input_Mode                          P0M1|=SET_BIT4;P0M2&=~SET_BIT4
 113      =1  #define P05_Input_Mode                          P0M1|=SET_BIT5;P0M2&=~SET_BIT5
 114      =1  #define P06_Input_Mode                          P0M1|=SET_BIT6;P0M2&=~SET_BIT6
 115      =1  #define P07_Input_Mode                          P0M1|=SET_BIT7;P0M2&=~SET_BIT7
 116      =1  #define P10_Input_Mode                          P1M1|=SET_BIT0;P1M2&=~SET_BIT0
 117      =1  #define P11_Input_Mode                          P1M1|=SET_BIT1;P1M2&=~SET_BIT1
 118      =1  #define P12_Input_Mode                          P1M1|=SET_BIT2;P1M2&=~SET_BIT2
 119      =1  #define P13_Input_Mode                          P1M1|=SET_BIT3;P1M2&=~SET_BIT3
 120      =1  #define P14_Input_Mode                          P1M1|=SET_BIT4;P1M2&=~SET_BIT4
 121      =1  #define P15_Input_Mode                          P1M1|=SET_BIT5;P1M2&=~SET_BIT5
 122      =1  #define P16_Input_Mode                          P1M1|=SET_BIT6;P1M2&=~SET_BIT6
 123      =1  #define P17_Input_Mode                          P1M1|=SET_BIT7;P1M2&=~SET_BIT7
 124      =1  #define P30_Input_Mode                          P3M1|=SET_BIT0;P3M2&=~SET_BIT0
 125      =1  //-------------------Define Port as Open Drain mode -------------------
 126      =1  #define P00_OpenDrain_Mode              P0M1|=SET_BIT0;P0M2|=SET_BIT0
 127      =1  #define P01_OpenDrain_Mode              P0M1|=SET_BIT1;P0M2|=SET_BIT1
 128      =1  #define P02_OpenDrain_Mode              P0M1|=SET_BIT2;P0M2|=SET_BIT2
 129      =1  #define P03_OpenDrain_Mode              P0M1|=SET_BIT3;P0M2|=SET_BIT3
 130      =1  #define P04_OpenDrain_Mode              P0M1|=SET_BIT4;P0M2|=SET_BIT4
 131      =1  #define P05_OpenDrain_Mode              P0M1|=SET_BIT5;P0M2|=SET_BIT5
 132      =1  #define P06_OpenDrain_Mode              P0M1|=SET_BIT6;P0M2|=SET_BIT6
 133      =1  #define P07_OpenDrain_Mode              P0M1|=SET_BIT7;P0M2|=SET_BIT7
 134      =1  #define P10_OpenDrain_Mode              P1M1|=SET_BIT0;P1M2|=SET_BIT0
 135      =1  #define P11_OpenDrain_Mode              P1M1|=SET_BIT1;P1M2|=SET_BIT1
 136      =1  #define P12_OpenDrain_Mode              P1M1|=SET_BIT2;P1M2|=SET_BIT2
 137      =1  #define P13_OpenDrain_Mode              P1M1|=SET_BIT3;P1M2|=SET_BIT3
 138      =1  #define P14_OpenDrain_Mode              P1M1|=SET_BIT4;P1M2|=SET_BIT4
 139      =1  #define P15_OpenDrain_Mode              P1M1|=SET_BIT5;P1M2|=SET_BIT5
 140      =1  #define P16_OpenDrain_Mode              P1M1|=SET_BIT6;P1M2|=SET_BIT6
 141      =1  #define P17_OpenDrain_Mode              P1M1|=SET_BIT7;P1M2|=SET_BIT7
 142      =1  #define P30_OpenDrain_Mode              P3M1|=SET_BIT0;P3M2|=SET_BIT0
 143      =1  //--------- Define all port as quasi mode ---------
 144      =1  #define Set_All_GPIO_Quasi_Mode                 P0M1=0;P0M2=0;P1M1=0;P1M2=0;P3M1=0;P3M2=0
 145      =1  
 146      =1  #define                 set_GPIO1               P12=1
 147      =1  #define                 clr_GPIO1               P12=0
 148      =1  
 149      =1  /****************************************************************************
 150      =1     Enable INT port 0~3
 151      =1  ***************************************************************************/
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 30  

 152      =1  #define         Enable_INT_Port0                                        PICON &= 0xFB;
 153      =1  #define         Enable_INT_Port1                                        PICON |= 0x01;
 154      =1  #define         Enable_INT_Port2                                        PICON |= 0x02;
 155      =1  #define         Enable_INT_Port3                                        PICON |= 0x03;
 156      =1  /*****************************************************************************
 157      =1   Enable each bit low level trig mode
 158      =1  *****************************************************************************/
 159      =1  #define         Enable_BIT7_LowLevel_Trig                       PICON&=0x7F;PINEN|=0x80;PIPEN&=0x7F
 160      =1  #define         Enable_BIT6_LowLevel_Trig                       PICON&=0x7F;PINEN|=0x40;PIPEN&=0xBF
 161      =1  #define         Enable_BIT5_LowLevel_Trig                       PICON&=0xBF;PINEN|=0x20;PIPEN&=0xDF
 162      =1  #define         Enable_BIT4_LowLevel_Trig                       PICON&=0xBF;PINEN|=0x10;PIPEN&=0xEF
 163      =1  #define         Enable_BIT3_LowLevel_Trig                       PICON&=0xDF;PINEN|=0x08;PIPEN&=0xF7
 164      =1  #define         Enable_BIT2_LowLevel_Trig                       PICON&=0xEF;PINEN|=0x04;PIPEN&=0xFB
 165      =1  #define         Enable_BIT1_LowLevel_Trig                       PICON&=0xF7;PINEN|=0x02;PIPEN&=0xFD
 166      =1  #define         Enable_BIT0_LowLevel_Trig                       PICON&=0xFD;PINEN|=0x01;PIPEN&=0xFE
 167      =1  /*****************************************************************************
 168      =1   Enable each bit high level trig mode
 169      =1  *****************************************************************************/
 170      =1  #define         Enable_BIT7_HighLevel_Trig                      PICON&=0x7F;PINEN&=0x7F;PIPEN|=0x80
 171      =1  #define         Enable_BIT6_HighLevel_Trig                      PICON&=0x7F;PINEN&=0xBF;PIPEN|=0x40
 172      =1  #define         Enable_BIT5_HighLevel_Trig                      PICON&=0xBF;PINEN&=0xDF;PIPEN|=0x20
 173      =1  #define         Enable_BIT4_HighLevel_Trig                      PICON&=0xBF;PINEN&=0xEF;PIPEN|=0x10
 174      =1  #define         Enable_BIT3_HighLevel_Trig                      PICON&=0xDF;PINEN&=0xF7;PIPEN|=0x08
 175      =1  #define         Enable_BIT2_HighLevel_Trig                      PICON&=0xEF;PINEN&=0xFB;PIPEN|=0x04
 176      =1  #define         Enable_BIT1_HighLevel_Trig                      PICON&=0xF7;PINEN&=0xFD;PIPEN|=0x02
 177      =1  #define         Enable_BIT0_HighLevel_Trig                      PICON&=0xFD;PINEN&=0xFE;PIPEN|=0x01
 178      =1  /*****************************************************************************
 179      =1   Enable each bit falling edge trig mode
 180      =1  *****************************************************************************/
 181      =1  #define         Enable_BIT7_FallEdge_Trig                       PICON|=0x80;PINEN|=0x80;PIPEN&=0x7F
 182      =1  #define         Enable_BIT6_FallEdge_Trig                       PICON|=0x80;PINEN|=0x40;PIPEN&=0xBF
 183      =1  #define         Enable_BIT5_FallEdge_Trig                       PICON|=0x40;PINEN|=0x20;PIPEN&=0xDF
 184      =1  #define         Enable_BIT4_FallEdge_Trig                       PICON|=0x40;PINEN|=0x10;PIPEN&=0xEF
 185      =1  #define         Enable_BIT3_FallEdge_Trig                       PICON|=0x20;PINEN|=0x08;PIPEN&=0xF7
 186      =1  #define         Enable_BIT2_FallEdge_Trig                       PICON|=0x10;PINEN|=0x04;PIPEN&=0xFB
 187      =1  #define         Enable_BIT1_FallEdge_Trig                       PICON|=0x08;PINEN|=0x02;PIPEN&=0xFD
 188      =1  #define         Enable_BIT0_FallEdge_Trig                       PICON|=0x04;PINEN|=0x01;PIPEN&=0xFE
 189      =1  /*****************************************************************************
 190      =1   Enable each bit rasing edge trig mode
 191      =1  *****************************************************************************/
 192      =1  #define         Enable_BIT7_RasingEdge_Trig                     PICON|=0x80;PINEN&=0x7F;PIPEN|=0x80
 193      =1  #define         Enable_BIT6_RasingEdge_Trig                     PICON|=0x80;PINEN&=0xBF;PIPEN|=0x40
 194      =1  #define         Enable_BIT5_RasingEdge_Trig                     PICON|=0x40;PINEN&=0xDF;PIPEN|=0x20
 195      =1  #define         Enable_BIT4_RasingEdge_Trig                     PICON|=0x40;PINEN&=0xEF;PIPEN|=0x10
 196      =1  #define         Enable_BIT3_RasingEdge_Trig                     PICON|=0x20;PINEN&=0xF7;PIPEN|=0x08
 197      =1  #define         Enable_BIT2_RasingEdge_Trig                     PICON|=0x10;PINEN&=0xFB;PIPEN|=0x04
 198      =1  #define         Enable_BIT1_RasingEdge_Trig                     PICON|=0x08;PINEN|=0xFD;PIPEN&=0x02
 199      =1  #define         Enable_BIT0_RasingEdge_Trig                     PICON|=0x04;PINEN|=0xFE;PIPEN&=0x01
 200      =1  
 201      =1  
 202      =1  /*****************************************************************************************
 203      =1  * For TIMER VALUE setting is base on " option -> C51 -> Preprocesser Symbols -> Define "
 204      =1  *****************************************************************************************/
 205      =1  #ifdef FOSC_110592              // if Fsys = 11.0592MHz 
           =1     #define TIMER_DIV12_VALUE_10us                      65536-9                 //9*12/11.0592 = 10 uS,                                 // Timer divider = 12 for TM0/
             -TM1
           =1     #define TIMER_DIV12_VALUE_1ms                               65536-923               //923*12/11.0592 = 1 mS                                 // Timer divider = 12
           =1                 #define TIMER_DIV12_VALUE_10ms                  65536-9216      //18432*12/22118400 = 10 ms                     // Timer divider = 12
           =1     #define TIMER_DIV4_VALUE_10us                               65536-28                //28*4/11.0592 = 10 uS                                  // Timer divider = 4    for TM2/TM3
           =1     #define TIMER_DIV4_VALUE_1ms                                65536-2765      //2765*4/11.0592 = 1 mS                                 // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_100us                  65536-277               //553*4/22118400 = 100 us                               // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_200us                  65536-553               //1106*4/22118400 = 200 us                      // Timer divider = 4
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 31  

           =1                 #define TIMER_DIV4_VALUE_500us                  65536-1383      //2765*4/22118400 = 500 us                      // Timer divider = 4            
           =1                 #define TIMER_DIV16_VALUE_10ms                  65536-6912      //1500*16/22118400 = 10 ms                      // Timer divider = 16
           =1                 #define TIMER_DIV64_VALUE_30ms                  65536-5184      //10368*64/22118400 = 30 ms                     // Timer divider = 64
           =1                 #define TIMER_DIV128_VALUE_100ms                65536-8640      //17280*128/22118400 = 100 ms           // Timer divider = 128
           =1                 #define TIMER_DIV128_VALUE_200ms                65536-17280     //34560*128/22118400 = 200 ms           // Timer divider = 128
           =1                 #define TIMER_DIV256_VALUE_500ms                65536-21600     //43200*256/22118400 = 500 ms   // Timer divider = 256
           =1                 #define TIMER_DIV512_VALUE_1s                           65536-21600     //43200*512/22118400 = 1 s                      // Timer divider = 512
           =1 #endif
 221      =1  #ifdef FOSC_160000              // if Fsys = 16MHz 
 222      =1                  #define TIMER_DIV12_VALUE_10us                  65536-13                //13*12/16000000 = 10 uS,                       // Timer divider = 12 for TM0/T
             -M1
 223      =1                  #define TIMER_DIV12_VALUE_100us                 65536-130               //130*12/16000000 = 10 uS,              // Timer divider = 12 
 224      =1                  #define TIMER_DIV12_VALUE_1ms                           65536-1334      //1334*12/16000000 = 1 mS,                      // Timer divider = 12 
 225      =1                  #define TIMER_DIV12_VALUE_10ms                  65536-13334     //13334*12/16000000 = 10 mS             // Timer divider = 12 
 226      =1                  #define TIMER_DIV12_VALUE_40ms                  65536-53336     //53336*12/16000000 = 40 ms                     // Timer divider = 12 
 227      =1                  #define TIMER_DIV4_VALUE_10us                           65536-40                //40*4/16000000 = 10 uS,                // Timer divider = 4    for TM2/TM
             -3
 228      =1                  #define TIMER_DIV4_VALUE_100us                  65536-400               //400*4/16000000 = 100 us                               // Timer divider = 4
 229      =1                  #define TIMER_DIV4_VALUE_200us                  65536-800               //800*4/16000000 = 200 us                               // Timer divider = 4
 230      =1                  #define TIMER_DIV4_VALUE_500us                  65536-2000      //2000*4/16000000 = 500 us                      // Timer divider = 4
 231      =1      #define TIMER_DIV4_VALUE_1ms                                65536-4000      //4000*4/16000000 = 1 mS,               // Timer divider = 4
 232      =1                  #define TIMER_DIV16_VALUE_10ms                  65536-10000     //10000*16/16000000 = 10 ms                     // Timer        divider = 16
 233      =1                  #define TIMER_DIV64_VALUE_30ms                  65536-7500      //7500*64/16000000 = 30 ms                      // Timer divider = 64
 234      =1                  #define TIMER_DIV128_VALUE_100ms                65536-12500     //12500*128/16000000 = 100 ms           // Timer divider = 128
 235      =1                  #define TIMER_DIV128_VALUE_200ms                65536-25000     //25000*128/16000000 = 200 ms           // Timer divider = 128
 236      =1                  #define TIMER_DIV256_VALUE_500ms                65536-31250     //31250*256/16000000 = 500 ms   // Timer divider = 256
 237      =1                  #define TIMER_DIV512_VALUE_1s                           65536-31250     //31250*512/16000000 = 1 s.             // Timer Divider = 512
 238      =1  #endif
 239      =1  #ifdef FOSC_184320              // if Fsys = 18.432MHz 
           =1     #define TIMER_DIV12_VALUE_10us                      65536-15    //15*12/18.432 = 10 uS,  Timer Clock = Fsys/12
           =1     #define TIMER_DIV12_VALUE_1ms                               65536-1536  //1536*12/18.432 = 1 mS, Timer Clock = Fsys/12
           =1     #define TIMER_DIV4_VALUE_10us                               65536-46    //46*4/18.432 = 10 uS,   Timer Clock = Fsys/4
           =1     #define TIMER_DIV4_VALUE_1ms                                65536-4608  //4608*4/18.432 = 1 mS,  Timer Clock = Fsys/4
           =1 #endif
 245      =1  #ifdef FOSC_200000              // if Fsys = 20 MHz
           =1     #define TIMER_DIV12_VALUE_10us                      65536-17         //17*12/20000000 = 10 uS,  Timer Clock = Fsys/12
           =1     #define TIMER_DIV12_VALUE_1ms                               65536-1667      //1667*12/20000000 = 1 mS, Timer Clock = Fsys/12
           =1     #define TIMER_DIV4_VALUE_10us                               65536-50        //50*4/20000000 = 10 uS,    Timer Clock = Fsys/4
           =1     #define TIMER_DIV4_VALUE_1ms                                65536-5000      //5000*4/20000000 = 1 mS,   Timer Clock = Fsys/4
           =1 #endif
 251      =1  #ifdef FOSC_221184              // if Fsys = 22.1184 MHz 
           =1                 #define TIMER_DIV12_VALUE_10us                  65536-18                        //18*12/22118400 = 10 uS,                       // Timer divider = 12
           =1                 #define TIMER_DIV12_VALUE_1ms                           65536-1843              //1843*12/22118400 = 1 mS,                      // Timer divider = 12
           =1                 #define TIMER_DIV12_VALUE_10ms                  65536-18432                     //18432*12/22118400 = 10 ms                     // Timer divider = 12
           =1                 #define TIMER_DIV4_VALUE_10us                           65536-56                                //9*4/22118400 = 10 uS,                         // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_1ms                            65536-5530                      //923*4/22118400 = 1 mS,                        // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_100us                  65536-553                               //553*4/22118400 = 100 us                               // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_200us                  65536-1106                      //1106*4/22118400 = 200 us                      // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_500us                  65536-2765                      //2765*4/22118400 = 500 us                      // Timer divider = 4            
           =1                 #define TIMER_DIV16_VALUE_10ms                  65536-13824                     //1500*16/22118400 = 10 ms                      // Timer divider = 16
           =1                 #define TIMER_DIV64_VALUE_30ms                  65536-10368                     //10368*64/22118400 = 30 ms                     // Timer divider = 64
           =1                 #define TIMER_DIV128_VALUE_100ms                65536-17280                     //17280*128/22118400 = 100 ms           // Timer divider = 128
           =1                 #define TIMER_DIV128_VALUE_200ms                65536-34560                     //34560*128/22118400 = 200 ms           // Timer divider = 128
           =1                 #define TIMER_DIV256_VALUE_500ms                65536-43200                     //43200*256/22118400 = 500 ms   // Timer divider = 256
           =1                 #define TIMER_DIV512_VALUE_1s                           65536-43200                     //43200*512/22118400 = 1 s                      // Timer divider = 512
           =1 #endif
 267      =1  #ifdef FOSC_240000              // if Fsys = 20 MHz
           =1                 #define TIMER_DIV12_VALUE_10us                  65536-20                                //20*12/24000000 = 10 uS,                       // Timer divider = 12
           =1     #define TIMER_DIV12_VALUE_1ms                               65536-2000                      //2000*12/24000000 = 1 mS,                      // Timer divider = 12
           =1                 #define TIMER_DIV12_VALUE_10ms                  65536-20000                     //2000*12/24000000 = 10 mS                      // Timer divider = 12
           =1                 #define TIMER_DIV4_VALUE_10us                           65536-60                                //60*4/24000000 = 10 uS,                // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_100us                  65536-600                               //600*4/24000000 = 100 us                               // Timer divider = 4
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 32  

           =1                 #define TIMER_DIV4_VALUE_200us                  65536-1200                      //1200*4/24000000 = 200 us                      // Timer divider = 4
           =1                 #define TIMER_DIV4_VALUE_500us                  65536-3000                      //3000*4/24000000 = 500 us                      // Timer divider = 4
           =1     #define TIMER_DIV4_VALUE_1ms                                65536-6000                      //6000*4/24000000 = 1 mS,               // Timer divider = 4
           =1                 #define TIMER_DIV16_VALUE_10ms                  65536-15000                     //15000*16/24000000 = 10 ms                     // Timer        divider = 16
           =1                 #define TIMER_DIV64_VALUE_30ms                  65536-11250                     //11250*64/24000000 = 30 ms                     // Timer divider = 64
           =1                 #define TIMER_DIV128_VALUE_100ms                65536-18750                     //37500*128/24000000 = 200 ms           // Timer divider = 128
           =1                 #define TIMER_DIV128_VALUE_200ms                65536-37500                     //37500*128/24000000 = 200 ms           // Timer divider = 128
           =1                 #define TIMER_DIV256_VALUE_500ms                65536-46875                     //46875*256/24000000 = 500 ms   // Timer divider = 256
           =1                 #define TIMER_DIV512_VALUE_1s                           65536-46875                     //46875*512/24000000 = 1 s.             // Timer Divider = 512
           =1 #endif
 283      =1  //-------------------- Timer0 function define --------------------
 284      =1  #define         TIMER1_MODE0_ENABLE             TMOD&=0x0F
 285      =1  #define         TIMER1_MODE1_ENABLE             TMOD&=0x0F;TMOD|=0x10
 286      =1  #define         TIMER1_MODE2_ENABLE             TMOD&=0x0F;TMOD|=0x20
 287      =1  #define         TIMER1_MODE3_ENABLE             TMOD&=0x0F;TMOD|=0x30
 288      =1  //-------------------- Timer1 function define --------------------
 289      =1  #define         TIMER0_MODE0_ENABLE             TMOD&=0xF0
 290      =1  #define         TIMER0_MODE1_ENABLE             TMOD&=0xF0;TMOD|=0x01
 291      =1  #define         TIMER0_MODE2_ENABLE             TMOD&=0xF0;TMOD|=0x02
 292      =1  #define         TIMER0_MODE3_ENABLE             TMOD&=0xF0;TMOD|=0x03
 293      =1  //-------------------- Timer2 function define --------------------
 294      =1  #define         TIMER2_DIV_4                    T2MOD|=0x10;T2MOD&=0x9F
 295      =1  #define         TIMER2_DIV_16                   T2MOD|=0x20;T2MOD&=0xAF
 296      =1  #define         TIMER2_DIV_32                   T2MOD|=0x30;T2MOD&=0xBF
 297      =1  #define         TIMER2_DIV_64                   T2MOD|=0x40;T2MOD&=0xCF
 298      =1  #define         TIMER2_DIV_128          T2MOD|=0x50;T2MOD&=0xDF
 299      =1  #define         TIMER2_DIV_256          T2MOD|=0x60;T2MOD&=0xEF
 300      =1  #define         TIMER2_DIV_512          T2MOD|=0x70
 301      =1  #define         TIMER2_Auto_Reload_Delay_Mode                           T2CON&=~SET_BIT0;T2MOD|=SET_BIT7;T2MOD|=SET_BIT3
 302      =1  #define         TIMER2_Compare_Capture_Mode                                     T2CON|=SET_BIT0;T2MOD&=~SET_BIT7;T2MOD|=SET_BIT2
 303      =1  
 304      =1  #define         TIMER2_CAP0_Capture_Mode                        T2CON&=~SET_BIT0;T2MOD=0x89
 305      =1  #define         TIMER2_CAP1_Capture_Mode                        T2CON&=~SET_BIT0;T2MOD=0x8A
 306      =1  #define         TIMER2_CAP2_Capture_Mode                        T2CON&=~SET_BIT0;T2MOD=0x8B
 307      =1  
 308      =1  //-------------------- Timer2 Capture define --------------------
 309      =1  //--- Falling Edge -----
 310      =1  #define IC0_P12_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON0|=SET_BIT4;CAPCON2|=SET_BIT4
 311      =1  #define IC1_P11_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x01;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 312      =1  #define IC2_P10_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x02;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 313      =1  #define IC3_P00_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x03;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 314      =1  #define IC3_P04_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x04;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 315      =1  #define IC4_P01_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x05;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 316      =1  #define IC5_P03_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x06;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 317      =1  #define IC6_P05_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x07;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 318      =1  #define IC7_P15_CAP0_FallingEdge_Capture                CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x08;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 319      =1  
 320      =1  #define IC0_P12_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON0|=SET_BIT5;CAPCON2|=SET_BIT5
 321      =1  #define IC1_P11_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x10;CAPCON0|=SET_BIT5;CAPC
             -ON0|=SET_BIT5
 322      =1  #define IC2_P10_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x20;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 323      =1  #define IC3_P00_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x30;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 33  

 324      =1  #define IC3_P04_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x40;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 325      =1  #define IC4_P01_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x50;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 326      =1  #define IC5_P03_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x60;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 327      =1  #define IC6_P05_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x70;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 328      =1  #define IC7_P15_CAP1_FallingEdge_Capture                CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x80;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 329      =1  
 330      =1  #define IC0_P12_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON0|=SET_BIT6;CAPCON2|=SET_BIT6
 331      =1  #define IC1_P11_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x10;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 332      =1  #define IC2_P10_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x20;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 333      =1  #define IC3_P00_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x30;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 334      =1  #define IC3_P04_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x40;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 335      =1  #define IC4_P01_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x50;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 336      =1  #define IC5_P03_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x60;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 337      =1  #define IC6_P05_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x70;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 338      =1  #define IC7_P15_CAP2_FallingEdge_Capture                CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x80;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 339      =1  
 340      =1  //----- Rising edge ----
 341      =1  #define IC0_P12_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0CAPCON0|=SET_BIT4;CAPCO
             -N2|=SET_BIT4;
 342      =1  #define IC1_P11_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x01;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 343      =1  #define IC2_P10_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x02;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 344      =1  #define IC3_P00_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x03;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 345      =1  #define IC3_P04_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x04;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 346      =1  #define IC4_P01_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x05;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 347      =1  #define IC5_P03_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x06;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 348      =1  #define IC6_P05_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x07;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 349      =1  #define IC7_P15_CAP0_RisingEdge_Capture                 CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x08;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 350      =1  
 351      =1  #define IC0_P12_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0FCAPCON0|=SET_BIT5;CAPCO
             -N2|=SET_BIT5;
 352      =1  #define IC1_P11_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x10;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 353      =1  #define IC2_P10_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x20;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 354      =1  #define IC3_P00_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x30;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 355      =1  #define IC3_P04_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x40;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 356      =1  #define IC4_P01_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x50;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 357      =1  #define IC5_P03_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x60;CAPCON0|
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 34  

             -=SET_BIT5;CAPCON2|=SET_BIT5;
 358      =1  #define IC6_P05_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x70;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 359      =1  #define IC7_P15_CAP1_RisingEdge_Capture                 CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x80;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 360      =1  
 361      =1  #define IC0_P12_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6;
 362      =1  #define IC1_P11_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x01;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 363      =1  #define IC2_P10_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x02;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 364      =1  #define IC3_P00_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x03;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 365      =1  #define IC3_P04_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x04;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 366      =1  #define IC4_P01_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x05;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 367      =1  #define IC5_P03_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x06;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 368      =1  #define IC6_P05_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x07;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 369      =1  #define IC7_P15_CAP3_RisingEdge_Capture                 CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x08;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 370      =1  
 371      =1  //-----BOTH  edge ----
 372      =1  #define IC0_P12_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON0|=SET_BIT4;CAPCO
             -N2|=SET_BIT4
 373      =1  #define IC1_P11_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x01;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 374      =1  #define IC2_P10_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x02;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 375      =1  #define IC3_P00_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x03;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 376      =1  #define IC3_P04_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x04;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 377      =1  #define IC4_P01_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x05;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 378      =1  #define IC5_P03_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x06;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 379      =1  #define IC6_P05_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x07;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 380      =1  #define IC7_P15_CAP0_BothEdge_Capture                           CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x08;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 381      =1  
 382      =1  #define IC0_P12_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON0|=SET_BIT5;CAPCO
             -N2|=SET_BIT5
 383      =1  #define IC1_P11_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x10;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 384      =1  #define IC2_P10_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x20;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 385      =1  #define IC3_P00_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x30;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 386      =1  #define IC3_P04_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x40;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 387      =1  #define IC4_P01_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x50;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 388      =1  #define IC5_P03_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x60;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 389      =1  #define IC6_P05_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x70;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 390      =1  #define IC7_P15_CAP1_BothEdge_Capture                           CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x80;CAPCON0|=
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 35  

             -SET_BIT5;CAPCON2|=SET_BIT5;
 391      =1  
 392      =1  #define IC0_P12_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON0|=SET_BIT6;CAPCO
             -N2|=SET_BIT6;
 393      =1  #define IC1_P11_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x01;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 394      =1  #define IC2_P10_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x02;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 395      =1  #define IC3_P00_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x03;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 396      =1  #define IC3_P04_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x04;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 397      =1  #define IC4_P01_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x05;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 398      =1  #define IC5_P03_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x06;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 399      =1  #define IC6_P05_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x07;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 400      =1  #define IC7_P15_CAP3_BothEdge_Capture                           CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x08;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 401      =1  
 402      =1  #define TIMER2_IC2_DISABLE                                                                      CAPCON0&=~SET_BIT6                       
 403      =1  #define TIMER2_IC1_DISABLE                                                                      CAPCON0&=~SET_BIT5                      
 404      =1  #define TIMER2_IC0_DISABLE                                                                      CAPCON0&=~SET_BIT4      
 405      =1  
 406      =1  /*****************************************************************************************
 407      =1  * For PWM setting 
 408      =1  *****************************************************************************************/
 409      =1  //--------- PMW clock source select define ---------------------
 410      =1  #define         PWM_CLOCK_FSYS                                  CKCON&=0xBF
 411      =1  #define         PWM_CLOCK_TIMER1                                CKCON|=0x40
 412      =1  //--------- PWM clock devide define ----------------------------
 413      =1  #define         PWM_CLOCK_DIV_2                                 PWMCON1|=0x01;PWMCON1&=0xF9
 414      =1  #define         PWM_CLOCK_DIV_4                                 PWMCON1|=0x02;PWMCON1&=0xFA
 415      =1  #define         PWM_CLOCK_DIV_8                                 PWMCON1|=0x03;PWMCON1&=0xFB
 416      =1  #define         PWM_CLOCK_DIV_16                                PWMCON1|=0x04;PWMCON1&=0xFC
 417      =1  #define         PWM_CLOCK_DIV_32                                PWMCON1|=0x05;PWMCON1&=0xFD
 418      =1  #define         PWM_CLOCK_DIV_64                                PWMCON1|=0x06;PWMCON1&=0xFE
 419      =1  #define         PWM_CLOCK_DIV_128                               PWMCON1|=0x07
 420      =1  //--------- PWM I/O select define ------------------------------
 421      =1  #define         PWM5_P15_OUTPUT_ENABLE          BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x20;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP                         //P1.5 as PWM5 output enable
 422      =1  #define         PWM5_P03_OUTPUT_ENABLE          PIOCON0|=0x20                                                                                                                                                                                                           //P0.3 as PWM5
 423      =1  #define         PWM4_P01_OUTPUT_ENABLE          PIOCON0|=0x10                                                                                                                                                                                                           //P0.1 as PWM4 output enable
 424      =1  #define         PWM3_P04_OUTPUT_ENABLE          BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x08;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP                         //P0.4 as PWM3 output enable
 425      =1  #define         PWM3_P00_OUTPUT_ENABLE          PIOCON0|=0x08                                                                                                                                                                                                           //P0.0 as PWM3 
 426      =1  #define         PWM2_P05_OUTPUT_ENABLE          BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x04;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP                         //P1.0 as PWM2 output enable
 427      =1  #define         PWM2_P10_OUTPUT_ENABLE          PIOCON0|=0x04                                                                                                                                                                                                           //P1.0 as PWM2
 428      =1  #define         PWM1_P14_OUTPUT_ENABLE          BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x02;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP                         //P1.4 as PWM1 output enable
 429      =1  #define         PWM1_P11_OUTPUT_ENABLE          PIOCON0|=0x02                                                                                                                                                                                                           //P1.1 as PWM1 
 430      =1  #define         PWM0_P12_OUTPUT_ENABLE          PIOCON0|=0x01                                                                                                                                                                                                           //P1.2 as PWM0 output enable
 431      =1  #define         ALL_PWM_OUTPUT_ENABLE                   PIOCON0=0xFF;PIOCON1=0xFF
 432      =1  #define         PWM5_P15_OUTPUT_DISABLE         BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xDF;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP                                //P1.5 as PWM5 output disable
 433      =1  #define         PWM5_P03_OUTPUT_DISABLE         PIOCON0&=0xDF                                                                                                                                                                                                           //P0.3 as PWM5
 434      =1  #define         PWM4_P01_OUTPUT_DISABLE         PIOCON0&=0xEF                                                                                                                                                                                                           //P0.1 as PWM4 output disable
 435      =1  #define         PWM3_P04_OUTPUT_DISABLE         BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xF7;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP                                //P0.4 as PWM3 output disable
 436      =1  #define         PWM3_P00_OUTPUT_DISABLE         PIOCON0&=0xF7                                                                                                                                                                                                           //P0.0 as PWM3 
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 36  

 437      =1  #define         PWM2_P05_OUTPUT_DISABLE         BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xFB;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP                                //P1.0 as PWM2 output disable
 438      =1  #define         PWM2_P10_OUTPUT_DISABLE         PIOCON0&=0xFB                                                                                                                                                                                                           //P1.0 as PWM2
 439      =1  #define         PWM1_P14_OUTPUT_DISABLE         BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xFD;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP                                //P1.4 as PWM1 output disable
 440      =1  #define         PWM1_P11_OUTPUT_DISABLE         PIOCON0&=0xFD                                                                                                                                                                                                           //P1.1 as PWM1 
 441      =1  #define         PWM0_P12_OUTPUT_DISABLE         PIOCON0&=0xFE                                                                                                                                                                                                           //P1.2 as PWM0 output disable
 442      =1  #define         ALL_PWM_OUTPUT_DISABLE          PIOCON0=0x00;PIOCON1=0x00
 443      =1  //--------- PWM I/O Polarity Control ---------------------------
 444      =1  #define         PWM5_OUTPUT_INVERSE                     PNP|=0x20                               
 445      =1  #define         PWM4_OUTPUT_INVERSE                     PNP|=0x10                               
 446      =1  #define         PWM3_OUTPUT_INVERSE                     PNP|=0x08                               
 447      =1  #define         PWM2_OUTPUT_INVERSE                     PNP|=0x04                               
 448      =1  #define         PWM1_OUTPUT_INVERSE                     PNP|=0x02                               
 449      =1  #define         PWM0_OUTPUT_INVERSE                     PNP|=0x01                               
 450      =1  #define         PWM_OUTPUT_ALL_INVERSE  PNP=0xFF
 451      =1  #define         PWM5_OUTPUT_NORMAL                      PNP&=0xDF                               
 452      =1  #define         PWM4_OUTPUT_NORMAL                      PNP&=0xEF                               
 453      =1  #define         PWM3_OUTPUT_NORMAL                      PNP&=0xF7                               
 454      =1  #define         PWM2_OUTPUT_NORMAL                      PNP&=0xFB                               
 455      =1  #define         PWM1_OUTPUT_NORMAL                      PNP&=0xFD                               
 456      =1  #define         PWM0_OUTPUT_NORMAL                      PNP&=0xFE                               
 457      =1  #define         PWM_OUTPUT_ALL_NORMAL           PNP=0x00
 458      =1  //--------- PWM type define ------------------------------------
 459      =1  #define         PWM_EDGE_TYPE                                           PWMCON1&=~SET_BIT4
 460      =1  #define         PWM_CENTER_TYPE                                 PWMCON1|=SET_BIT4
 461      =1  //--------- PWM mode define ------------------------------------
 462      =1  #define         PWM_IMDEPENDENT_MODE            PWMCON1&=0x3F
 463      =1  #define         PWM_COMPLEMENTARY_MODE  PWMCON1|=0x40;PWMCON1&=0x7F
 464      =1  #define         PWM_SYNCHRONIZED_MODE           PWMCON1|=0x80;PWMCON1&=0xBF
 465      =1  #define         PWM_GP_MODE_ENABLE                      PWMCON1|=0x20
 466      =1  #define         PWM_GP_MODE_DISABLE                     PWMCON1&=0xDF
 467      =1  //--------- PMW interrupt setting ------------------------------
 468      =1  #define         PWM_FALLING_INT                                 BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xCF;TA=0xAA;TA=0x55;SFRS=0x00;
             -EA=BIT_TMP
 469      =1  #define         PWM_RISING_INT                                  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=0x10;PWMCON0&=0xDF;TA=0xAA;TA=0x
             -55;SFRS=0x00;EA=BIT_TMP
 470      =1  #define         PWM_CENTRAL_POINT_INT           BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=0x20;PWMCON0&=0xEF;TA=0xAA;T
             -A=0x55;SFRS=0x00;EA=BIT_TMP
 471      =1  #define         PWM_PERIOD_END_INT                      BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=0x30;TA=0xAA;TA=0x55;SFRS=0x00
             -;EA=BIT_TMP
 472      =1  //--------- PWM interrupt pin select ---------------------------
 473      =1  #define         PWM_INT_PWM0                                            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;TA=0xAA;TA=0x55;SFRS=0x00;EA
             -=BIT_TMP
 474      =1  #define         PWM_INT_PWM1                                            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x01;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 475      =1  #define         PWM_INT_PWM2                                            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x02;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 476      =1  #define         PWM_INT_PWM3                                            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x03;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 477      =1  #define         PWM_INT_PWM4                                            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x04;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 478      =1  #define         PWM_INT_PWM5                                            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x05;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 479      =1  //--------- PWM Dead time setting ------------------------------
 480      =1  #define         PWM45_DEADTIME_ENABLE                   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|=0x04;EA=BIT_TMP
 481      =1  #define         PWM34_DEADTIME_ENABLE                   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|=0x02;EA=BIT_TMP
 482      =1  #define         PWM01_DEADTIME_ENABLE                   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|=0x01;EA=BIT_TMP
 483      =1  
 484      =1  /*****************************************************************************************
 485      =1  * For ADC INIT setting 
 486      =1  *****************************************************************************************/
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 37  

 487      =1  #define Enable_ADC_AIN0                 ADCCON0&=0xF0;P17_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT0;ADCCON1|=SET_BIT0                   
             -                                                //P17
 488      =1  #define Enable_ADC_AIN1                 ADCCON0&=0xF0;ADCCON0|=0x01;P30_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT1;ADCCON
             -1|=SET_BIT0                //P30
 489      =1  #define Enable_ADC_AIN2                 ADCCON0&=0xF0;ADCCON0|=0x02;P07_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT2;ADCCON
             -1|=SET_BIT0                //P07
 490      =1  #define Enable_ADC_AIN3                 ADCCON0&=0xF0;ADCCON0|=0x03;P06_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT3;ADCCON
             -1|=SET_BIT0                //P06
 491      =1  #define Enable_ADC_AIN4                 ADCCON0&=0xF0;ADCCON0|=0x04;P05_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT4;ADCCON
             -1|=SET_BIT0                //P05
 492      =1  #define Enable_ADC_AIN5                 ADCCON0&=0xF0;ADCCON0|=0x05;P04_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT5;ADCCON
             -1|=SET_BIT0                //P04
 493      =1  #define Enable_ADC_AIN6                 ADCCON0&=0xF0;ADCCON0|=0x06;P03_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT6;ADCCON
             -1|=SET_BIT0                //P03
 494      =1  #define Enable_ADC_AIN7                 ADCCON0&=0xF0;ADCCON0|=0x07;P11_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT7;ADCCON
             -1|=SET_BIT0                //P11
 495      =1  #define Enable_ADC_BandGap      ADCCON0|=SET_BIT3;ADCCON0&=0xF8;ADCCON1|=SET_BIT0                                                                                                                                                                                       //Band-
             -gap 1.22V
 496      =1  
 497      =1  #define PWM0_FALLINGEDGE_TRIG_ADC               ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1&=~SET_
             -BIT2;ADCCON1|=SET_BIT1
 498      =1  #define PWM2_FALLINGEDGE_TRIG_ADC               ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1&=~SET_B
             -IT2;ADCCON1|=SET_BIT1
 499      =1  #define PWM4_FALLINGEDGE_TRIG_ADC               ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1&=~SET_B
             -IT2;ADCCON1|=SET_BIT1
 500      =1  #define PWM0_RISINGEDGE_TRIG_ADC                ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BI
             -T2;ADCCON1|=SET_BIT1
 501      =1  #define PWM2_RISINGEDGE_TRIG_ADC                ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT
             -2;ADCCON1|=SET_BIT1
 502      =1  #define PWM4_RISINGEDGE_TRIG_ADC                ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT
             -2;ADCCON1|=SET_BIT1
 503      =1  #define PWM0_CENTRAL_TRIG_ADC                           ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1&=~SET_BIT
             -2;ADCCON1|=SET_BIT1
 504      =1  #define PWM2_CENTRAL_TRIG_ADC                           ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1&=~SET_BIT2
             -;ADCCON1|=SET_BIT1
 505      =1  #define PWM4_CENTRAL_TRIG_ADC                           ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1&=~SET_BIT2
             -;ADCCON1|=SET_BIT1
 506      =1  #define PWM0_END_TRIG_ADC                                               ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1|=SET_BIT2;A
             -DCCON1|=SET_BIT1
 507      =1  #define PWM2_END_TRIG_ADC                                               ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1|=SET_BIT2;AD
             -CCON1|=SET_BIT1
 508      =1  #define PWM4_END_TRIG_ADC                                               ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1|=SET_BIT2;AD
             -CCON1|=SET_BIT1
 509      =1  
 510      =1  #define P04_FALLINGEDGE_TRIG_ADC                ADCCON0|=0x30;ADCCON1&=0xF3;ADCCON1|=SET_BIT1;ADCCON1&=~SET_BIT6
 511      =1  #define P13_FALLINGEDGE_TRIG_ADC                ADCCON0|=0x30;ADCCON1&=0xF3;ADCCON1|=SET_BIT1;ADCCON1|=SET_BIT6
 512      =1  #define P04_RISINGEDGE_TRIG_ADC                 ADCCON0|=0x30;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT2;ADCCON1|=SET_BIT1;ADC
             -CON1&=~SET_BIT6
 513      =1  #define P13_RISINGEDGE_TRIG_ADC                 ADCCON0|=0x30;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT2;ADCCON1|=SET_BIT1;ADC
             -CON1|=SET_BIT6
 514      =1  
 515      =1  /*****************************************************************************************
 516      =1  * For SPI INIT setting 
 517      =1  *****************************************************************************************/
 518      =1  #define         SPICLK_DIV2                                                     clr_SPR0;clr_SPR1
 519      =1  #define         SPICLK_DIV4                                                     set_SPR0;clr_SPR1
 520      =1  #define         SPICLK_DIV8                                                     clr_SPR0;set_SPR1
 521      =1  #define         SPICLK_DIV16                                            set_SPR0;set_SPR1
 522      =1  #define         Enable_SPI_Interrupt            set_ESPI;set_EA
 523      =1  #define         SS              P15
 524      =1  
   4          #include "Common.h"
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 38  

   1      =1  typedef bit                   BIT;
   2      =1  typedef unsigned char         UINT8;
   3      =1  typedef unsigned int          UINT16;
   4      =1  typedef unsigned long         UINT32;
   5      =1  
   6      =1  typedef unsigned char         uint8_t;
   7      =1  typedef unsigned int          uint16_t;
   8      =1  typedef unsigned long         uint32_t;
   9      =1  
  10      =1  
  11      =1  
  12      =1  
  13      =1  #define     CID_READ                            0x0B
  14      =1  #define     DID_READ                            0x0C
  15      =1  
  16      =1  #define     ERASE_APROM                         0x22
  17      =1  #define     READ_APROM                          0x00
  18      =1  #define     PROGRAM_APROM                       0x21
  19      =1  #define     ERASE_LDROM                         
  20      =1  #define     READ_LDROM                          
  21      =1  #define     PROGRAM_LDROM                       
  22      =1  #define     READ_CFG                                    0xC0
  23      =1  #define     PROGRAM_CFG                         0xE1
  24      =1  #define                 READ_UID                                        0x04
  25      =1  
  26      =1  
  27      =1  void  InitialUART0_Timer1(UINT32 u32Baudrate); //T1M = 1, SMOD = 1
  28      =1  void  InitialUART0_Timer3(UINT32 u32Baudrate); //Timer3 as Baudrate, SMOD=1, Prescale=0
  29      =1  void  InitialUART1_Timer3(UINT32 u32Baudrate);
  30      =1  void  Send_Data_To_UART0(UINT8 c);
  31      =1  UINT8 Receive_Data_From_UART0(void);
  32      =1  void  Send_Data_To_UART1(UINT8 c);
  33      =1  UINT8 Receive_Data_From_UART1(void);
  34      =1  void  InitialUART1(UINT32 u32Baudrate);
  35      =1  
  36      =1  extern bit BIT_TMP;
   5          #include "Delay.h"
   1      =1  void Timer0_Delay100us(UINT32 u32CNT);
   2      =1  void Timer0_Delay1ms(UINT32 u32CNT);
   3      =1  void Timer1_Delay1ms(UINT32 u32CNT);
   4      =1  void Timer1_Delay10ms(UINT32 u32CNT);
   5      =1  void Timer2_Delay500us(UINT32 u32CNT);
   6      =1  void Timer3_Delay100ms(UINT32 u32CNT);
   7      =1  
   8      =1  void Timer0_Delay40ms(UINT32 u32CNT);
   9      =1  void Timer3_Delay10us(UINT32 u32CNT);
   6          
   7          #include "yxt.h"
   1      =1  #ifndef __YXT_H__
   2      =1  #define __YXT_H__
   3      =1  
   4      =1  #include "bike.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  ahzzc@sina.com
   5      =2    * @version V2.xx
   6      =2    * @date    
   7      =2    * @brief   
   8      =2    ******************************************************************************
   9      =2    * @Changlog
  10      =2    * V2.35 - 20180104
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 39  

  11      =2    * 48V481479
  12      =2    * 
  13      =2    * 
  14      =2    * 
  15      =2    * V2.34 - 20171226
  16      =2    * BAT_STATUS_xxVbike.h
  17      =2    * 
  18      =2    * V2.33 - 20171219
  19      =2    * TM1640
  20      =2    * 
  21      =2    * V2.32 - 20171214
  22      =2    * JINGPENG-12080
  23      =2    * 
  24      =2    * V2.31 - 20171214
  25      =2    * JINGPENG-12080
  26      =2    *
  27      =2    * V2.30 - 20171201
  28      =2    * MileTask
  29      =2    *
  30      =2    * V2.29 - 20171128
  31      =2    * MileResetTaskMileResetTask
             -1
  32      =2    *
  33      =2    * V2.28 - 20171128
  34      =2    * RESET_CONFIGJIKE13050Parking
  35      =2    *
  36      =2    * V2.27 - 20171128
  37      =2    * RESET_CONFIGA
  38      =2    *
  39      =2    * V2.26 - 20171128
  40      =2    * 
             -
  41      =2    * 
  42      =2    * 
  43      =2    * V2.25 - 20171127
  44      =2    * 
  45      =2    * 
  46      =2    * PCB200
  47      =2    * 
  48      =2    * V2.24 - 20171125
  49      =2    * 
  50      =2    * 
  51      =2    * V2.23 - 20171122
  52      =2    * MileResetTask
  53      =2    * 
  54      =2    * V2.22 - 20171120
  55      =2    * 90402.0PCBJIKE13050
  56      =2    * 
  57      =2    * 
  58      =2    * V2.21 - 20171102
  59      =2    * 
  60      =2    * 
  61      =2    * V2.20 - 20171027
  62      =2    * 
             -
  63      =2    * 
  64      =2    * V2.13 - 20170921
  65      =2    * MileResetTask,YXT_SpeedCaltTask
             -
  66      =2    * 
  67      =2    * V2.12 - 20170916
  68      =2    * 9040_5535-0914.docx
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 40  

  69      =2    * MileResetTask,YXT_SpeedCaltTask
  70      =2    * 
  71      =2  
  72      =2    * 
  73      =2    * V2.11 - 20170909
  74      =2    * 9040_5535-0908.doc
  75      =2    * 1.  60/72V
  76      =2    * 2.  
  77      =2    * 3.  
  78      =2    * LCD9040_4860
  79      =2    * 
  80      =2    * 
  81      =2    * 
  82      =2    * etVol
  83      =2    * 
  84      =2    *
  85      =2    * V2.10 - 20170824
  86      =2    * 108
  87      =2    * 
  88      =2    * OUPAINONG
  89      =2    * OUPAINONG_6072
  90      =2    *
  91      =2    * V2.09 - 20170821
  92      =2    * 38
  93      =2    * 
  94      =2    * 
  95      =2    *
  96      =2    * V2.08 - 20170817
  97      =2    * YXT DATA2 BIT5 1
  98      =2    * DENGGUAN_XUNYING_TJINPENG_6072
  99      =2    * 
 100      =2    *
 101      =2    * V2.07
 102      =2    * 52
 103      =2    * 15-42
 104      =2    *
 105      =2    * V2.06
 106      =2    * 
 107      =2    *
 108      =2    * V2.05
 109      =2    * 
 110      =2    *
 111      =2    * V2.04
 112      =2    * V2.02
 113      =2    * release
 114      =2    * JINPENG_4060JINPENG_6072
 115      =2    * PCB
 116      =2    *
 117      =2    * V2.01
 118      =2    * 
 119      =2    * 
 120      =2    *
 121      =2    * V2.00
 122      =2          * 
 123      =2          * 1.MODE1,MODE2
 124      =2          * 2.
 125      =2          * 3.
 126      =2          * 4.,  SWIM
 127      =2          * 5.EEPROM;
 128      =2          * 6.
 129      =2          * 7.
             -
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 41  

 130      =2          * 8.
 131      =2          * 9.PCB_VER0011001200220041
 132      =2          *10.YXT_XX
 133      =2    *
 134      =2    ******************************************************************************
 135      =2    */
 136      =2  /******************************************************************************/
 137      =2  
 138      =2  #ifndef __BIKE_H__
 139      =2  #define __BIKE_H__
 140      =2  
 141      =2  /******************************************************************************/
 142      =2  //release define
 143      =2  #define LCD9040
 144      =2  //#define LCD9040_VD48H72L_ST
 145      =2  //#define LCD9040_VD48H72N_ST
 146      =2  //#define LCD9040_JP_45KM
 147      =2  //#define JINPENG_4860
 148      =2  //#define JINPENG_6072
 149      =2  //#define JINPENG_9737
 150      =2  //#define JINPENG_QD
 151      =2  //#define LCD6040
 152      =2  //#define LCD9040
 153      =2  //#define LCD9040_4860
 154      =2  //#define LCD9040T
 155      =2  //#define JIKE13050
 156      =2  //#define DENGGUAN_XUNYING              //DG55,BLSP55
 157      =2  //#define DENGGUAN_XUNYING_T    //TDG55
 158      =2  //#define BENLING_OUSHANG               //BL60_72
 159      =2  //#define BENLING_BL48_60               //BL48_60
 160      =2  //#define BENLING_ZHONGSHA              //BLV72
 161      =2  //#define OUJUN                                 //M2_60_72
 162      =2  //#define OUPAINONG_4860                //LCD9040_4860
 163      =2  //#define OUPAINONG_6072                //LCD9040_6072
 164      =2  //#define OUPAINONG_ADJ_4860    //LCD9040ADJ_4860
 165      =2  //#define OUPAINONG_ADJ_6072    //LCD9040ADJ_6072
 166      =2  /******************************************************************************/
 167      =2  
 168      =2  //#define SW_VER                                
 169      =2  
 170      =2  //#define SINGLE_TRIP   
 171      =2  //#define LCD_SEG_TEST
 172      =2  //#define RESET_CONFIG
 173      =2  
 174      =2  /******************************************************************************/
 175      =2  #define VOL_CALIBRATIOIN        600UL   //60.0V
 176      =2  #define TEMP_CALIBRATIOIN       250UL   //25.0C
 177      =2  
 178      =2  #define PON_ALLON_TIME          2000UL  //2000ms
 179      =2  
 180      =2  #define DISPLAY_MAX_SPEED       45UL    //40km/h
 181      =2  /******************************************************************************/
 182      =2  
 183      =2  #if defined LCD9040
 184      =2          #define PCB_VER         0100
 185      =2          //#define LCD9040
 186      =2          #define TIME_ENABLE 0
 187      =2          #define YXT_ENABLE  1                           
 188      =2          #define VD72L48L        
 189      =2  #elif defined LCD9040_ST
           =2         #define PCB_VER         0200
           =2         #define LCD9040
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 42  

           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1                           
           =2         #define VD72L48L        
           =2         #define SINGLE_TRIP
           =2 #elif defined LCD9040_VD48H72N_ST
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1   
           =2         #define VD48H72N        
           =2         #define SINGLE_TRIP
           =2 #elif defined LCD9040_JP_45KM
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1   
           =2         #define VD72L48L        
           =2         #define SPEED_CALC_48V(spd) spd*1575UL/8192UL   /*24V->45KM/H*/
           =2         #define SPEED_CALC_60V(spd) spd*315UL /2048UL   /*30V->45KM/H*/
           =2         #define SPEED_CALC_72V(spd) spd*525UL /4096UL   /*36V->45KM/H*/
           =2 #elif defined JIKE13050
           =2         #define PCB_VER         201745UL
           =2         #define LCD8794GCT
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2 //      #define VD48L72N        
           =2         #define VD48N72L        
           =2 #elif JINPENG_4860
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1   
           =2         #define VD48L72N
           =2         #define SPEED_CALC_48V(spd) spd*1575UL/8192UL   /*24V->45KM/H*/
           =2         #define SPEED_CALC_60V(spd) spd*315UL /2048UL   /*30V->45KM/H*/
           =2         #define BAT_STATUS_48V          {420,426,432,439,445,451,457,464}
           =2         #define BAT_STATUS_60V          {520,528,536,542,550,558,566,574}
           =2         #define BAT_STATUS_72V          {0xFFFF}        
           =2 #elif defined JINPENG_6072
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2         #define VD48N72L        
           =2         #define SPEED_CALC_60V(spd) spd*1505UL/8192UL   /*24V->43KM/H*/
           =2         #define SPEED_CALC_72V(spd) spd*1505UL/12288UL  /*36V->43KM/H*/
           =2         #define BAT_STATUS_48V          {0xFFFF}
           =2         #define BAT_STATUS_60V          {480,493,506,519,532,545,558,570}
           =2         #define BAT_STATUS_72V          {550,569,589,608,628,647,667,686}
           =2 #elif defined JINPENG_9737
           =2         #define PCB_VER         9737
           =2         #define TM1624
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  0
           =2         #define VD48    
           =2         #define VOL_CALC(uiVol)         (uint32_t)uiVol*650UL/1024UL    /* 120K+10K */
           =2         #define BAT_STATUS_48V          {300,410,438,464,490,516};
           =2         #define BAT_STATUS_60V          {0xFFFF};
           =2         #define BAT_STATUS_72V          {0xFFFF};
           =2 
           =2         #define PERIMETER                       2200UL  //mm
           =2         #define PULSE_C                         56
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 43  

           =2 #elif defined JINPENG_QD
           =2         #define PCB_VER         0200
           =2         #define TM1640
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2         #define VD48L72N        
           =2         #define SPEED_CALC_48V(spd) spd*1575UL/8192UL   /*24V->45KM/H*/
           =2         #define SPEED_CALC_60V(spd) spd*315UL /2048UL   /*30V->45KM/H*/
           =2         #define BAT_STATUS_48V          {420,426,433,440,447,454,462,470};
           =2         #define BAT_STATUS_60V          {520,528,537,546,555,563,571,579};
           =2         #define BAT_STATUS_72V          {0xFFFF};
           =2 #elif defined LCD9040_4860
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1   
           =2         #define VD48H72L        
           =2         #define SINGLE_TRIP
           =2 #elif defined LCD9040T
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 1
           =2         #define YXT_ENABLE  1                           
           =2         #define VD72L48L        
           =2 #elif defined LCD6040
           =2         #define PCB_VER         0200
           =2         //#define LCD6040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1                           
           =2         #define VD72L48L        
           =2         #define BAT_STATUS_48V {425,432,444,456,468};
           =2         #define BAT_STATUS_60V {525,537,553,566,578};
           =2         #define BAT_STATUS_72V {630,641,661,681,701};
           =2 #elif defined DENGGUAN_XUNYING
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2         #define VD72L48L        
           =2 #elif defined DENGGUAN_XUNYING_T
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 1
           =2         #define YXT_ENABLE  0
           =2         #define VD72L48L        
           =2 #elif defined BENLING_OUSHANG
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2         #define VD72L48L        
           =2 #elif defined BENLING_BL48_60
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2         #define VD72L48L        
           =2 #elif defined BENLING_ZHONGSHA
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 44  

           =2         #define VD72
           =2 #elif defined OUJUN
           =2         #define PCB_VER         0200
           =2         #define LCD9040
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1
           =2         #define VD48N72L
           =2 #elif defined OUPAINONG_4860
           =2         #define PCB_VER         0200
           =2         #define LCD5535
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1                           
           =2         #define VD48L72N        
           =2         #define SPEED_CALC_48V(spd) spd*57750UL/242688UL        /*23.7V->55KM/H*/
           =2         #define SPEED_CALC_60V(spd) spd*63000UL/258048UL        /*25.2V->60KM/H*/
           =2 #elif defined OUPAINONG_6072
           =2         #define PCB_VER         0200
           =2         #define LCD5535
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1                           
           =2         #define VD48N72L        
           =2         #define SPEED_CALC_60V(spd) spd*68250UL/339968UL        /*33.2V->65KM/H*/
           =2         #define SPEED_CALC_72V(spd) spd*68250UL/339968UL        /*33.2V->65KM/H*/
           =2 #elif defined OUPAINONG_ADJ_4860
           =2         #define PCB_VER         0013
           =2         #define LCD5535
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1                           
           =2         #define VD72L48L        
           =2 #elif defined OUPAINONG_ADJ_6072
           =2         #define PCB_VER         0013
           =2         #define LCD5535
           =2         #define TIME_ENABLE 0
           =2         #define YXT_ENABLE  1                           
           =2         #define VD72L48L        
           =2 #else
           =2         #error "Please select a release!!!"
           =2 #endif
 354      =2  
 355      =2  /******************************************************************************/
 356      =2  #ifndef PCB_VER
           =2         #define PCB_VER 0200
           =2 #endif
 359      =2  
 360      =2  #ifndef TIME_ENABLE
           =2         #define TIME_ENABLE     0                               
           =2 #endif
 363      =2  
 364      =2  #ifndef YXT_ENABLE
           =2         #define YXT_ENABLE      1                               
           =2 #endif
 367      =2  
 368      =2  // spd*5V*(200+10)/10/1024/fullV*fullSpeed      /*200k+10k*/
 369      =2  #ifndef SPEED_CALC_48V
 370      =2  #define SPEED_CALC_48V(spd) spd*1925UL/8192UL   /*200k+10k 24V->55KM/H*/
 371      =2  #endif
 372      =2  
 373      =2  #ifndef SPEED_CALC_60V
 374      =2  #define SPEED_CALC_60V(spd) spd*385UL /2048UL;  /*200k+10k 30V->55KM/H*/
 375      =2  #endif
 376      =2  
 377      =2  #ifndef SPEED_CALC_72V
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 45  

 378      =2  #define SPEED_CALC_72V(spd) spd*1925UL/12288UL  /*200k+10k 36V->55KM/H*/
 379      =2  #endif
 380      =2  
 381      =2  // uiVol = (uint32_t)uiVol / 1024UL / 10 * (200+10) * 5 * 10;   /* 200k+10k */
 382      =2  #ifndef VOL_CALC
 383      =2  #define VOL_CALC(uiVol) (uint32_t)uiVol*1050UL/1024UL   /* 200k+10k */
 384      =2  #endif
 385      =2  
 386      =2  #ifndef BAT_STATUS_48V
 387      =2  //#define BAT_STATUS_48V {420,427,435,444,453,462,471,481}
 388      =2  #define BAT_STATUS_48V {420,427,435,444,453,462,471,479}        /*20180104*/
 389      =2  #endif
 390      =2  
 391      =2  #ifndef BAT_STATUS_60V
 392      =2  #define BAT_STATUS_60V {520,531,544,556,568,577,587,595}
 393      =2  #endif
 394      =2  
 395      =2  #ifndef BAT_STATUS_72V
 396      =2  #define BAT_STATUS_72V {630,642,653,664,675,687,700,715}
 397      =2  #endif
 398      =2  
 399      =2  /******************************************************************************/
 400      =2  
 401      =2  
 402      =2  #define TASK_INIT       0
 403      =2  #define TASK_STEP1      1
 404      =2  #define TASK_STEP2      2
 405      =2  #define TASK_STEP3      3
 406      =2  #define TASK_STEP4      4
 407      =2  #define TASK_EXIT       0xFF
 408      =2  
 409      =2  #define GPIO_QUASI              0
 410      =2  #define GPIO_PUSH_PULL  1
 411      =2  #define GPIO_INPUT_ONLY 2
 412      =2  #define GPIO_OPEN_DRAIN 3
 413      =2  
 414      =2  #define RESET   0
 415      =2  #define SET             1
 416      =2  
 417      =2  
 418      =2  /******************************************************************************/
 419      =2  #define uint8_t         unsigned char
 420      =2  #define uint16_t        unsigned int
 421      =2  #define uint32_t        unsigned long
 422      =2  
 423      =2  #define int8_t          signed char
 424      =2  #define int16_t         signed int
 425      =2  #define int32_t         signed long
 426      =2  
 427      =2  /******************************************************************************/
 428      =2  typedef struct {
 429      =2      uint8_t bLFlashType :1;
 430      =2      uint8_t bRFlashType :1;
 431      =2      uint8_t bLeftFlash  :1;     
 432      =2      uint8_t bRightFlash :1;     
 433      =2      uint8_t bTurnLeft   :1;
 434      =2      uint8_t bTurnRight  :1;
 435      =2          uint8_t bNearLight      :1;
 436      =2          uint8_t bLastNear       :1;
 437      =2  
 438      =2          uint8_t bFarLight       :1;
 439      =2          uint8_t bOverSpeed      :1;
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 46  

 440      =2          uint8_t bHotReset       :1;     
 441      =2      uint8_t bLcdFresh   :1;
 442      =2          uint8_t bMileFlash      :1;     
 443      =2          uint8_t bSpeedFlash     :1;     
 444      =2          uint8_t bYXTERR         :1;
 445      =2          uint8_t bCruise         :1;
 446      =2      
 447      =2          uint8_t bBraked         :1;
 448      =2          uint8_t bECUERR         :1;
 449      =2          uint8_t bPhaseERR       :1;
 450      =2          uint8_t bHallERR        :1;
 451      =2          uint8_t bWheelERR       :1;
 452      =2          uint8_t bECO            :1;
 453      =2          uint8_t bRCHG           :1;
 454      =2          uint8_t bParking        :1;
 455      =2          
 456      =2          uint8_t bHasTimer       :1;
 457      =2          uint8_t bUart           :1;     
 458      =2          uint8_t bTimeSet        :1;
 459      =2          uint8_t bBT                     :1;
 460      =2      
 461      =2          uint8_t         ucSpeedMode;
 462      =2          signed int      siTemperature;
 463      =2          uint16_t        uiBatVoltage;
 464      =2          uint16_t        uiBatVoltage2;
 465      =2          uint8_t         ucSpeed;
 466      =2          uint8_t         ucPHA_Speed;
 467      =2          uint8_t         ucYXT_Speed;
 468      =2          uint32_t        ulMile;
 469      =2          uint32_t        ulFMile;
 470      =2          uint16_t        uiTick;
 471      =2          uint16_t        uiHallCounter;
 472      =2          uint16_t        uiHallCounter_250ms;
 473      =2          
 474      =2          uint8_t         ucHour;
 475      =2          uint8_t         ucMinute;
 476      =2          uint8_t         ucSecond;
 477      =2          uint8_t         ucTimePos;
 478      =2          
 479      =2  } BIKE_STATUS,*pBIKE_STATUS;
 480      =2          
 481      =2  typedef struct {
 482      =2          uint8_t         ucBike[4];
 483      =2          uint16_t        uiVersion;
 484      =2          uint16_t        uiSysVoltage;
 485      =2          uint16_t        uiVolScale;
 486      =2          uint16_t        uiVolScale2;
 487      =2          uint16_t        uiTempScale;
 488      =2          uint16_t        uiSpeedScale;
 489      =2          uint16_t        uiYXT_SpeedScale;
 490      =2          uint16_t        uiSingleTrip;
 491      =2          uint32_t        ulMile;
 492      =2          uint8_t         ucSum;
 493      =2  } BIKE_CONFIG,*pBIKE_CONFIG;
 494      =2          
 495      =2  extern BIKE_STATUS xdata sBike;
 496      =2  extern BIKE_CONFIG xdata sConfig;
 497      =2  extern volatile uint16_t uiSysTick;
 498      =2  
 499      =2  uint16_t Get_SysTick(void);
 500      =2  uint16_t Get_ElapseTick(uint16_t uiPreTick);
 501      =2  int16_t NTCtoTemp(int16_t ntc);
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 47  

 502      =2  void HotReset(void);
 503      =2  void WriteConfig(void);
 504      =2  void ResetConfig(void);
 505      =2  void InitConfig(void);
 506      =2  uint8_t GetBatStatus(uint16_t uiVol);
 507      =2  uint8_t GetBatEnergy(uint16_t uiVol);
 508      =2  uint8_t GetSpeedHall(void);
 509      =2  void LRFlashTask(void);
 510      =2  uint8_t MileSetupTask(void);
 511      =2  void MileTask(void);
 512      =2  uint8_t SpeedCaltTask(void);
 513      =2  void TimeTask(void);
 514      =2  void LRFlashTask(void);
 515      =2  void LightTask(void);
 516      =2  void exchange_sort16(uint16_t* pData,uint16_t Count);
 517      =2  uint16_t get_average16(uint16_t* dat, uint16_t len);
 518      =2  /******************************************************************************/
 519      =2  
 520      =2  #if ( PCB_VER == 0200 )
           =2         #define BATV_ADC_CH             ADC1_CHANNEL_2
           =2         #define BATV_ADC_SCH    ADC1_SCHMITTTRIG_CHANNEL2
           =2 
           =2         #define SPEEDV_ADC_CH   ADC1_CHANNEL_3
           =2         #define SPEEDV_ADC_SCH  ADC1_SCHMITTTRIG_CHANNEL3
           =2 
           =2         #define SPEEDV_ADJ_CH   ADC1_CHANNEL_4
           =2         #define SPEEDV_ADJ_SCH  ADC1_SCHMITTTRIG_CHANNEL4
           =2         
           =2         #define V72_PORT                GPIOD
           =2         #define V72_PIN                 GPIO_PIN_5
           =2         #define V48_PORT                GPIOD
           =2         #define V48_PIN                 GPIO_PIN_4
           =2 
           =2         #define SPMODE1_PORT    GPIOA
           =2         #define SPMODE1_PIN             GPIO_PIN_3
           =2         #define SPMODE2_PORT    GPIOA
           =2         #define SPMODE2_PIN             GPIO_PIN_2
           =2         #define SPMODE3_PORT    GPIOA
           =2         #define SPMODE3_PIN             GPIO_PIN_1
           =2         //#define SPMODE4_PORT  GPIOA
           =2         //#define SPMODE4_PIN           GPIO_PIN_3
           =2         
           =2         #define CALI_PORT               SPMODE1_PORT
           =2         #define CALI_PIN                SPMODE1_PIN
           =2         
           =2         #define NearLight_PORT  GPIOC
           =2         #define NearLight_PIN   GPIO_PIN_7
           =2         #define TurnRight_PORT  GPIOC
           =2         #define TurnRight_PIN   GPIO_PIN_3
           =2         #define TurnLeft_PORT   GPIOC
           =2         #define TurnLeft_PIN    GPIO_PIN_5
           =2         
           =2         #define TM16XX_PORT     GPIOB
           =2         #define TM16XX_CLK      GPIO_PIN_4
           =2         #define TM16XX_DAT      GPIO_PIN_5
           =2 
           =2 #elif ( PCB_VER == 0100 )
 559      =2          #define BATV_ADC_CH             ADC1_CHANNEL_2
 560      =2          #define BATV_ADC_SCH    ADC1_SCHMITTTRIG_CHANNEL2
 561      =2  
 562      =2          #define SPEEDV_ADC_CH   ADC1_CHANNEL_3
 563      =2          #define SPEEDV_ADC_SCH  ADC1_SCHMITTTRIG_CHANNEL3
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 48  

 564      =2  
 565      =2          #define V72_PORT                P0
 566      =2          #define V72_PIN                 1
 567      =2          #define V48_PORT                P1
 568      =2          #define V48_PIN                 2
 569      =2  
 570      =2          #define SPMODE1_PORT    P0
 571      =2          #define SPMODE1_PIN             0
 572      =2          #define SPMODE2_PORT    P1
 573      =2          #define SPMODE2_PIN             1
 574      =2          #define SPMODE3_PORT    P2
 575      =2          #define SPMODE3_PIN             2
 576      =2          #define SPMODE4_PORT    P3
 577      =2          #define SPMODE4_PIN             3
 578      =2          
 579      =2          #define CALI_PORT               SPMODE1_PORT
 580      =2          #define CALI_PIN                SPMODE1_PIN
 581      =2          
 582      =2          #define NearLight_PORT  P2
 583      =2          #define NearLight_PIN   1
 584      =2          #define TurnRight_PORT  P2
 585      =2          #define TurnRight_PIN   2
 586      =2          #define TurnLeft_PORT   P2
 587      =2          #define TurnLeft_PIN    3
 588      =2  
 589      =2  #elif ( PCB_VER == 0013 )
           =2         #define BATV_ADC_CH             ADC1_CHANNEL_2
           =2         #define BATV_ADC_SCH    ADC1_SCHMITTTRIG_CHANNEL2
           =2 
           =2         #define SPEEDV_ADC_CH   ADC1_CHANNEL_3
           =2         #define SPEEDV_ADC_SCH  ADC1_SCHMITTTRIG_CHANNEL3
           =2 
           =2         #define SPEEDV_ADJ_CH   ADC1_CHANNEL_4
           =2         #define SPEEDV_ADJ_SCH  ADC1_SCHMITTTRIG_CHANNEL4
           =2 
           =2         #define V72_PORT                GPIOD
           =2         #define V72_PIN                 GPIO_PIN_4
           =2         #define V48_PORT                GPIOD
           =2         #define V48_PIN                 GPIO_PIN_5
           =2 
           =2         #define SPMODE1_PORT    GPIOA
           =2         #define SPMODE1_PIN             GPIO_PIN_3
           =2         #define SPMODE2_PORT    GPIOA
           =2         #define SPMODE2_PIN             GPIO_PIN_2
           =2         #define SPMODE3_PORT    GPIOA
           =2         #define SPMODE3_PIN             GPIO_PIN_1
           =2 //      #define SPMODE4_PORT    
           =2 //      #define SPMODE4_PIN             
           =2         
           =2         #define CALI_PORT               SPMODE1_PORT
           =2         #define CALI_PIN                SPMODE1_PIN
           =2         
           =2         #define NearLight_PORT  GPIOC
           =2         #define NearLight_PIN   GPIO_PIN_7
           =2         #define TurnRight_PORT  GPIOC
           =2         #define TurnRight_PIN   GPIO_PIN_3
           =2         #define TurnLeft_PORT   GPIOC
           =2         #define TurnLeft_PIN    GPIO_PIN_5
           =2 #elif ( PCB_VER == 0041 )       //for LCD8794GCT
           =2         #define BATV_ADC_CH             ADC1_CHANNEL_2
           =2         #define BATV_ADC_SCH    ADC1_SCHMITTTRIG_CHANNEL2
           =2 
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 49  

           =2         #define SPEEDV_ADC_CH   ADC1_CHANNEL_5
           =2         #define SPEEDV_ADC_SCH  ADC1_SCHMITTTRIG_CHANNEL5
           =2 
           =2         #define SPMODE1_PORT    GPIOD
           =2         #define SPMODE1_PIN             GPIO_PIN_4
           =2         #define SPMODE2_PORT    GPIOA
           =2         #define SPMODE2_PIN             GPIO_PIN_1
           =2         #define SPMODE3_PORT    GPIOA
           =2         #define SPMODE3_PIN             GPIO_PIN_2
           =2         #define SPMODE4_PORT    GPIOA
           =2         #define SPMODE4_PIN             GPIO_PIN_3
           =2         
           =2         #define CALI_PORT               SPMODE1_PORT
           =2         #define CALI_PIN                SPMODE1_PIN
           =2         
           =2         #define NearLight_PORT  GPIOD
           =2         #define NearLight_PIN   GPIO_PIN_3
           =2         #define TurnRight_PORT  GPIOC
           =2         #define TurnRight_PIN   GPIO_PIN_3
           =2         #define TurnLeft_PORT   GPIOD
           =2         #define TurnLeft_PIN    GPIO_PIN_2
           =2 //      #define CRZLight_PORT   
           =2 //      #define CRZLight_PIN    
           =2         
           =2         #define NearLightOut_PORT       GPIOC
           =2         #define NearLightOut_PIN        GPIO_PIN_7
           =2         #define TurnRightOut_PORT       GPIOC
           =2         #define TurnRightOut_PIN        GPIO_PIN_5
           =2         #define TurnLeftOut_PORT        GPIOD
           =2         #define TurnLeftOut_PIN         GPIO_PIN_1      
           =2 #elif ( PCB_VER == 201745UL )   //for LCD8794GCT
           =2         #define BATV_ADC_CH             ADC1_CHANNEL_2
           =2         #define BATV_ADC_SCH    ADC1_SCHMITTTRIG_CHANNEL2
           =2 
           =2         #define SPEEDV_ADC_CH   ADC1_CHANNEL_3
           =2         #define SPEEDV_ADC_SCH  ADC1_SCHMITTTRIG_CHANNEL3
           =2 
           =2         #define SPEEDV_ADJ_CH   ADC1_CHANNEL_4
           =2         #define SPEEDV_ADJ_SCH  ADC1_SCHMITTTRIG_CHANNEL4
           =2 
           =2         #define V48_PORT                GPIOD
           =2         #define V48_PIN                 GPIO_PIN_5
           =2 
           =2         #define SPMODE1_PORT    GPIOA
           =2         #define SPMODE1_PIN             GPIO_PIN_3
           =2         #define SPMODE2_PORT    GPIOA
           =2         #define SPMODE2_PIN             GPIO_PIN_1
           =2         #define SPMODE3_PORT    GPIOA
           =2         #define SPMODE3_PIN             GPIO_PIN_2
           =2         
           =2         #define CALI_PORT               SPMODE1_PORT
           =2         #define CALI_PIN                SPMODE1_PIN
           =2         
           =2         #define NearLight_PORT  GPIOC
           =2         #define NearLight_PIN   GPIO_PIN_7
           =2         #define TurnRight_PORT  GPIOD
           =2         #define TurnRight_PIN   GPIO_PIN_4
           =2         #define TurnLeft_PORT   GPIOC
           =2         #define TurnLeft_PIN    GPIO_PIN_3
           =2         
           =2         #define POut_PORT               GPIOC
           =2         #define POut_PIN                GPIO_PIN_5
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 50  

           =2 #elif ( PCB_VER == 9737 )
           =2         #define BATV_ADC_CH             ADC1_CHANNEL_6
           =2         #define BATV_ADC_SCH    ADC1_SCHMITTTRIG_CHANNEL6
           =2 
           =2         #define BATV_ADC_CH2    ADC1_CHANNEL_2
           =2         #define BATV_ADC_SCH2   ADC1_SCHMITTTRIG_CHANNEL2
           =2         
           =2         #define SPEED_HALL_PORT GPIOC
           =2         #define SPEED_HALL_PIN  GPIO_PIN_3
           =2 
           =2     #define SPEED_EXTI_PORT EXTI_PORT_GPIOC
           =2 
           =2         #define CALI_PORT               GPIOA
           =2         #define CALI_PIN                GPIO_PIN_3
           =2         
           =2         #define NearLight_PORT  GPIOD
           =2         #define NearLight_PIN   GPIO_PIN_4
           =2         #define FarLight_PORT   GPIOD
           =2         #define FarLight_PIN    GPIO_PIN_5
           =2         #define OverSpeed_PORT  GPIOA
           =2         #define OverSpeed_PIN   GPIO_PIN_3
           =2         #define TurnRight_PORT  GPIOB
           =2         #define TurnRight_PIN   GPIO_PIN_4
           =2         #define TurnLeft_PORT   GPIOB
           =2         #define TurnLeft_PIN    GPIO_PIN_5
           =2 
           =2         #define TM16XX_PORT             GPIOC
           =2         #define TM16XX_CLK              GPIO_PIN_5
           =2         #define TM16XX_DAT              GPIO_PIN_6
           =2         #define TM16XX_CS               GPIO_PIN_7
           =2 #endif
 719      =2  
 720      =2  #define INC_SYS_TICK()  uiSysTick++
 721      =2  
 722      =2  #define ContainOf(x)            (sizeof(x)/sizeof(x[0]))
 723      =2          
 724      =2  #define READ_TURN_LEFT()        GPIO_Read(TurnLeft_PORT , TurnLeft_PIN  )
 725      =2  #define READ_TURN_RIGHT()       GPIO_Read(TurnRight_PORT, TurnRight_PIN )
 726      =2  
 727      =2  #define FEED_DOG()                      
 728      =2  
 729      =2  #define DISABLE_INTERRUPTS()    EA = 0
 730      =2  #define ENABLE_INTERRUPTS()             EA = 1
 731      =2  
 732      =2  #define LED_OFF()       P15 = 0
 733      =2  #define LED_ON()        P15 = 1
 734      =2  
 735      =2  /******************************************************************************/
 736      =2  
 737      =2  #endif
   5      =1  
   6      =1  extern unsigned char YXT_Buf[];
   7      =1  extern unsigned char YXT_Status[];
   8      =1  extern unsigned char YXT_RxBit,YXT_RxData;
   9      =1  extern unsigned char YXT_Update;
  10      =1  
  11      =1  
  12      =1  void YXT_Init(void);
  13      =1  void YXT_Task(BIKE_STATUS *bike,BIKE_CONFIG* config);
  14      =1  void YXT_Tim_Receive(unsigned short duty);
  15      =1  
  16      =1  #endif
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 51  

  17      =1  
   8          
   9          
  10          unsigned char YXT_Buf[12];
  11          unsigned char YXT_Status[9];
  12          unsigned char YXT_RxBit,YXT_RxData;
  13          unsigned char YXT_Update=0;
  14          
  15          
  16          /*********************************************************************************************************
             -***
  17          *    Timer2 Capture interrupt subroutine
  18          **********************************************************************************************************
             -**/
  19          void Capture_ISR (void) interrupt 12
  20          {
  21   1              unsigned char cl,ch;
  22   1              static uint16_t high,low;
  23   1              
  24   1              clr_CAPF0;                      // clear capture0 interrupt flag
  25   1              cl = C0L;                       // For capture mode CxL/CxH with data capture from I/O pin
  26   1              ch = C0H;                                                                                       
  27   1              clr_TF2;
  28   1              
  29   1              if ( P12 == 1 ){
  30   2                      low = ((uint16_t)ch<<8)|cl;
  31   2              } else {
  32   2                      high = ((uint16_t)ch<<8)|cl;
  33   2                      YXT_Tim_Receive(low*100/(low+high));
  34   2              }
  35   1      }
  36          
  37          void YXT_Init(void)
  38          {
  39   1              TIMER2_DIV_32;
  40   1              TIMER2_CAP0_Capture_Mode;
  41   1              IC0_P12_CAP0_BothEdge_Capture;
  42   1      
  43   1              set_ECAP;                                   //Enable Capture interrupt
  44   1              set_TR2;                                    //Triger Timer2
  45   1              
  46   1              YXT_Update = 0;
  47   1      }
  48          
  49          
  50          void YXT_Tim_Receive(uint16_t duty)
  51          {
  52   1              int8_t PlusCode;
  53   1              uint8_t checksum;
  54   1              uint8_t i;
  55   1              
  56   1              YXT_RxData <<= 1;
  57   1              if ( duty > 15 && duty < 42 ) {
  58   2                      YXT_RxData |= 0x01;
  59   2              }
  60   1        
  61   1              if ( (++YXT_RxBit % 8) == 0 ){
  62   2                      YXT_Buf[YXT_RxBit/8-1] = YXT_RxData;
  63   2                      YXT_RxData = 0;
  64   2              }
  65   1              
  66   1              if ( YXT_RxBit >= 96 ){
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 52  

  67   2                      YXT_RxBit = 0;
  68   2                      
  69   2                      checksum = YXT_Buf[0];
  70   2                      for(i=1;i<12;i++)
  71   2                              checksum ^= YXT_Buf[i];
  72   2              
  73   2                      if ( checksum ) return ;
  74   2                      if ( YXT_Update ) return ;
  75   2                      
  76   2                      if ( YXT_Buf[0] == 0x1F ){      //YXT_WXJX
  77   3                              PlusCode = (char)(YXT_Buf[1]+0x9E);
  78   3                              PlusCode = (char)(PlusCode ^ 0x47);
  79   3                              PlusCode = (char)(PlusCode + 0x8D);
  80   3                              PlusCode = (char)(PlusCode ^ 0x3A);
  81   3                              PlusCode = (char)(PlusCode + (YXT_Buf[2] >> 4));
  82   3                              PlusCode = (char)(PlusCode ^ 0xCB);
  83   3                              PlusCode = (char)(PlusCode + 0x03);
  84   3                              PlusCode = (char)(PlusCode ^ 0xAC);
  85   3                              PlusCode = PlusCode & 0x7F;
  86   3                      } else if ( YXT_Buf[0] == 0x25 ){       //-
  87   3                              PlusCode = (char)(YXT_Buf[1]+0xEA);
  88   3                              PlusCode = (char)(PlusCode ^ 0xDB);
  89   3                              PlusCode = (char)(PlusCode + 0xBF);
  90   3                              PlusCode = (char)(PlusCode ^ 0x5A);
  91   3                              PlusCode = (char)(PlusCode + (YXT_Buf[2] >> 4));
  92   3                              PlusCode = (char)(PlusCode ^ 0x4B);
  93   3                              PlusCode = (char)(PlusCode + 0xDB);
  94   3                              PlusCode = (char)(PlusCode ^ 0xBD);
  95   3                              PlusCode = PlusCode & 0x7F;
  96   3                      } else if ( YXT_Buf[0] == 0x2B ){       //YXT_LQGS
  97   3                              PlusCode = (char)(YXT_Buf[1]+0x2C);
  98   3                              PlusCode = (char)(PlusCode ^ 0x6F);
  99   3                              PlusCode = (char)(PlusCode + 0xDF);
 100   3                              PlusCode = (char)(PlusCode ^ 0x7A);
 101   3                              PlusCode = (char)(PlusCode + (YXT_Buf[2] >> 4));
 102   3                              PlusCode = (char)(PlusCode ^ 0x2B);
 103   3                              PlusCode = (char)(PlusCode + 0x0D);
 104   3                              PlusCode = (char)(PlusCode ^ 0xC2);
 105   3                              PlusCode = PlusCode & 0x7F;
 106   3                      } else if ( YXT_Buf[0] == 0x08 ){       //
 107   3                              PlusCode = 0;
 108   3                      } else {
 109   3                              PlusCode = YXT_Buf[10];
 110   3                      }
 111   2                      
 112   2                      //YXT_Status[0] = YXT_Buf[2] - (((YXT_Buf[2] >> 4))*0x10);
 113   2                      YXT_Status[1] = YXT_Buf[3] - PlusCode;
 114   2                      YXT_Status[2] = YXT_Buf[4] - PlusCode;
 115   2                      //YXT_Status[3] = YXT_Buf[5] - PlusCode;
 116   2                      //YXT_Status[4] = YXT_Buf[6];
 117   2                      YXT_Status[5] = YXT_Buf[7] - PlusCode;
 118   2                      YXT_Status[6] = YXT_Buf[8] - PlusCode;
 119   2                      //YXT_Status[7] = YXT_Buf[9] - PlusCode;
 120   2                      //YXT_Status[8] = YXT_Buf[10]- PlusCode;
 121   2                      
 122   2                      YXT_Update = 1;
 123   2              }
 124   1              if ( duty > 2560 ) {
 125   2                      YXT_RxBit  = 0;
 126   2                      YXT_RxData = 0;
 127   2              }
 128   1      }
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 53  

 129          
 130          void YXT_Task(BIKE_STATUS *bike,BIKE_CONFIG* config)
 131          {
 132   1              static unsigned int pre_tick=0;
 133   1              uint32_t speed;
 134   1              
 135   1              if ( YXT_Update ){
 136   2                      pre_tick = Get_SysTick();
 137   2                      bike->bYXTERR = 0;
 138   2      
 139   2      #ifdef JIKE13050        
                              if ( (YXT_Status[1] & (1<<7)) ) bike->bECO     = 1; else bike->bECO     = 0;
              #endif
 142   2                      if ( (YXT_Status[1] & (1<<6)) ) bike->bHallERR = 1; else bike->bHallERR = 0;
 143   2                      if ( (YXT_Status[1] & (1<<5)) ) bike->bWheelERR= 1; else bike->bWheelERR= 0; 
 144   2                      if ( (YXT_Status[1] & (1<<4)) ) bike->bECUERR  = 1; else bike->bECUERR  = 0;
 145   2              //      if ( (YXT_Status[1] & (1<<2)) ) bike->bCruise  = 1; else bike->bCruise  = 0;
 146   2                      if ( (YXT_Status[1] & (1<<0)) ) bike->bPhaseERR= 1; else bike->bPhaseERR= 0;
 147   2      
 148   2                      if ( (YXT_Status[2] & (1<<5)) ) bike->bBraked  = 1; else bike->bBraked  = 0;
 149   2      #ifdef JIKE13050        
                              if ( (YXT_Status[2] & (1<<3)) ) bike->bRCHG    = 1; else bike->bRCHG    = 0;
                              if ( (YXT_Status[2] & (1<<6)) ) bike->bParking = 0; else bike->bParking = 1;
              #endif
 153   2              
 154   2                      bike->ucSpeedMode = ((YXT_Status[2]>>5)&0x04)|(YXT_Status[2]&0x03);
 155   2                      speed = ((unsigned int )YXT_Status[5]<<8) | YXT_Status[6];
 156   2                      speed = speed*5/60;     //600->50Km/h
 157   2                      bike->ucYXT_Speed       = speed;
 158   2                      bike->ucSpeed           = bike->ucYXT_Speed*1000UL/config->uiYXT_SpeedScale;
 159   2      
 160   2                      YXT_Update = 0;  
 161   2              } else if ( Get_ElapseTick(pre_tick) > 3000 ){
 162   2                      bike->bYXTERR   = 1;
 163   2                      bike->bHallERR  = 0;
 164   2                      bike->bPhaseERR = 0;
 165   2                      bike->bWheelERR = 0;
 166   2                      bike->bECUERR   = 0;
 167   2              }       
 168   1          
 169   1              if ( bike->bYXTERR      == 0 ){
 170   2                      bike->ucSpeed   = bike->ucYXT_Speed*1000UL/config->uiYXT_SpeedScale;
 171   2          }
 172   1      }
 173          
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 54  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


uint16_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
YXT_Buf. . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0006H  12
PWMCON0. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D8H  1
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
pBIKE_CONFIG . . . . . . . . . . . . .  TYPEDEF  -----  PTR      -----  3
UINT32 . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
Capture_ISR. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  cl . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  ch . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  high . . . . . . . . . . . . . . . .  STATIC   XDATA  U_INT    0000H  2
  low. . . . . . . . . . . . . . . . .  STATIC   XDATA  U_INT    0002H  2
UINT16 . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
YXT_RxData . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0012H  1
P12. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
BIKE_CONFIG. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  25
  ucBike . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  uiVersion. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  uiSysVoltage . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
  uiVolScale . . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
  uiVolScale2. . . . . . . . . . . . .  MEMBER   -----  U_INT    000AH  2
  uiTempScale. . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
  uiSpeedScale . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
  uiYXT_SpeedScale . . . . . . . . . .  MEMBER   -----  U_INT    0010H  2
  uiSingleTrip . . . . . . . . . . . .  MEMBER   -----  U_INT    0012H  2
  ulMile . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0014H  4
  ucSum. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0018H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
_YXT_Tim_Receive . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  duty . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
  PlusCode . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0005H  1
  checksum . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0004H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0003H  1
C0H. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E5H  1
C0L. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E4H  1
SCON_1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
TF2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
YXT_Update . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0013H  1
uint8_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
Get_SysTick. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
YXT_RxBit. . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0014H  1
EIE. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
pBIKE_STATUS . . . . . . . . . . . . .  TYPEDEF  -----  PTR      -----  3
TR2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
ADCCON0. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
I2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C0H  1
BIT. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  BIT      -----  1
BIKE_STATUS. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  32
  bLFlashType. . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.0
  bRFlashType. . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.1
  bLeftFlash . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.2
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 55  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  bRightFlash. . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.3
  bTurnLeft. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.4
  bTurnRight . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.5
  bNearLight . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.6
  bLastNear. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.7
  bFarLight. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.0
  bOverSpeed . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.1
  bHotReset. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.2
  bLcdFresh. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.3
  bMileFlash . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.4
  bSpeedFlash. . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.5
  bYXTERR. . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.6
  bCruise. . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.7
  bBraked. . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.0
  bECUERR. . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.1
  bPhaseERR. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.2
  bHallERR . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.3
  bWheelERR. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.4
  bECO . . . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.5
  bRCHG. . . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.6
  bParking . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0002H  1.7
  bHasTimer. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0003H  1.0
  bUart. . . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0003H  1.1
  bTimeSet . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0003H  1.2
  bBT. . . . . . . . . . . . . . . . .  MEMBER   -----  FIELD    0003H  1.3
  ucSpeedMode. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  siTemperature. . . . . . . . . . . .  MEMBER   -----  INT      0005H  2
  uiBatVoltage . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  uiBatVoltage2. . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  ucSpeed. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  ucPHA_Speed. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  ucYXT_Speed. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
  ulMile . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   000EH  4
  ulFMile. . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0012H  4
  uiTick . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0016H  2
  uiHallCounter. . . . . . . . . . . .  MEMBER   -----  U_INT    0018H  2
  uiHallCounter_250ms. . . . . . . . .  MEMBER   -----  U_INT    001AH  2
  ucHour . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   001CH  1
  ucMinute . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   001DH  1
  ucSecond . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   001EH  1
  ucTimePos. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   001FH  1
CAPCON0. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0092H  1
T2MOD. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C9H  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
CAPCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0093H  1
CAPCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1
CAPCON3. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F1H  1
_Get_ElapseTick. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
YXT_Status . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0015H  9
UINT8. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
_YXT_Task. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  bike . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  config . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0003H  3
  pre_tick . . . . . . . . . . . . . .  STATIC   XDATA  U_INT    0004H  2
  speed. . . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0006H  4
YXT_Init . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
C51 COMPILER V9.50a   YXT                                                                  01/08/2018 11:47:40 PAGE 56  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


uint32_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1148    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     30      10
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
